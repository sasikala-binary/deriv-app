/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("@deriv/shared"), require("@deriv/translations"), require("mobx"));
	else if(typeof define === 'function' && define.amd)
		define(["@deriv/shared", "@deriv/translations", "mobx"], factory);
	else if(typeof exports === 'object')
		exports["@deriv/trader"] = factory(require("@deriv/shared"), require("@deriv/translations"), require("mobx"));
	else
		root["@deriv/trader"] = factory(root["@deriv/shared"], root["@deriv/translations"], root["mobx"]);
})(self, function(__WEBPACK_EXTERNAL_MODULE__deriv_shared__, __WEBPACK_EXTERNAL_MODULE__deriv_translations__, __WEBPACK_EXTERNAL_MODULE_mobx__) {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./Stores/Modules/CFD/Helpers/cfd-config.js":
/*!**************************************************!*\
  !*** ./Stores/Modules/CFD/Helpers/cfd-config.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getDxCompanies\": () => (/* binding */ getDxCompanies),\n/* harmony export */   \"getMtCompanies\": () => (/* binding */ getMtCompanies)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_0__);\n\nvar getDxCompanies = function getDxCompanies() {\n  var synthetic_config = {\n    account_type: '',\n    leverage: 500,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Synthetic')\n  };\n  var financial_config = {\n    account_type: 'financial',\n    leverage: 1000,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Financial')\n  };\n  return {\n    demo: {\n      synthetic: {\n        dxtrade_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Demo Synthetic'),\n        short_title: synthetic_config.short_title\n      },\n      financial: {\n        dxtrade_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Demo Financial'),\n        short_title: financial_config.short_title\n      }\n    },\n    real: {\n      synthetic: {\n        dxtrade_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Synthetic'),\n        short_title: synthetic_config.short_title\n      },\n      financial: {\n        dxtrade_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Financial'),\n        short_title: financial_config.short_title\n      }\n    }\n  };\n};\nvar getMtCompanies = function getMtCompanies(is_eu) {\n  var synthetic_config = {\n    account_type: '',\n    leverage: 500,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Synthetic')\n  };\n  var financial_config = {\n    account_type: 'financial',\n    leverage: 1000,\n    short_title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Financial')\n  };\n  var financial_stp_config = {\n    account_type: 'financial_stp',\n    leverage: 100,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Financial STP')\n  };\n  return {\n    demo: {\n      synthetic: {\n        mt5_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Demo Synthetic'),\n        short_title: synthetic_config.short_title\n      },\n      financial: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Demo CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Demo Financial'),\n        short_title: financial_config.short_title\n      },\n      financial_stp: {\n        mt5_account_type: financial_stp_config.account_type,\n        leverage: financial_stp_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Demo Financial STP'),\n        short_title: financial_stp_config.short_title\n      }\n    },\n    real: {\n      synthetic: {\n        mt5_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Synthetic'),\n        short_title: synthetic_config.short_title\n      },\n      financial: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Financial'),\n        short_title: financial_config.short_title\n      },\n      financial_stp: {\n        mt5_account_type: financial_stp_config.account_type,\n        leverage: financial_stp_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Financial STP'),\n        short_title: financial_stp_config.short_title\n      }\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvTW9kdWxlcy9DRkQvSGVscGVycy9jZmQtY29uZmlnLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUEE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQVBBO0FBZkE7QUE4QkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFiQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQWJBO0FBckJBO0FBMENBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L3RyYWRlci8uL1N0b3Jlcy9Nb2R1bGVzL0NGRC9IZWxwZXJzL2NmZC1jb25maWcuanM/ZWI3NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuXG5leHBvcnQgY29uc3QgZ2V0RHhDb21wYW5pZXMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3ludGhldGljX2NvbmZpZyA9IHtcbiAgICAgICAgYWNjb3VudF90eXBlOiAnJyxcbiAgICAgICAgbGV2ZXJhZ2U6IDUwMCxcbiAgICAgICAgc2hvcnRfdGl0bGU6IGxvY2FsaXplKCdTeW50aGV0aWMnKSxcbiAgICB9O1xuICAgIGNvbnN0IGZpbmFuY2lhbF9jb25maWcgPSB7XG4gICAgICAgIGFjY291bnRfdHlwZTogJ2ZpbmFuY2lhbCcsXG4gICAgICAgIGxldmVyYWdlOiAxMDAwLFxuICAgICAgICBzaG9ydF90aXRsZTogbG9jYWxpemUoJ0ZpbmFuY2lhbCcpLFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVtbzoge1xuICAgICAgICAgICAgc3ludGhldGljOiB7XG4gICAgICAgICAgICAgICAgZHh0cmFkZV9hY2NvdW50X3R5cGU6IHN5bnRoZXRpY19jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBzeW50aGV0aWNfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnRGVtbyBTeW50aGV0aWMnKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogc3ludGhldGljX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5hbmNpYWw6IHtcbiAgICAgICAgICAgICAgICBkeHRyYWRlX2FjY291bnRfdHlwZTogZmluYW5jaWFsX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGZpbmFuY2lhbF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdEZW1vIEZpbmFuY2lhbCcpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBmaW5hbmNpYWxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVhbDoge1xuICAgICAgICAgICAgc3ludGhldGljOiB7XG4gICAgICAgICAgICAgICAgZHh0cmFkZV9hY2NvdW50X3R5cGU6IHN5bnRoZXRpY19jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBzeW50aGV0aWNfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnU3ludGhldGljJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IHN5bnRoZXRpY19jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluYW5jaWFsOiB7XG4gICAgICAgICAgICAgICAgZHh0cmFkZV9hY2NvdW50X3R5cGU6IGZpbmFuY2lhbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBmaW5hbmNpYWxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnRmluYW5jaWFsJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGZpbmFuY2lhbF9jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TXRDb21wYW5pZXMgPSBpc19ldSA9PiB7XG4gICAgY29uc3Qgc3ludGhldGljX2NvbmZpZyA9IHtcbiAgICAgICAgYWNjb3VudF90eXBlOiAnJyxcbiAgICAgICAgbGV2ZXJhZ2U6IDUwMCxcbiAgICAgICAgc2hvcnRfdGl0bGU6IGxvY2FsaXplKCdTeW50aGV0aWMnKSxcbiAgICB9O1xuICAgIGNvbnN0IGZpbmFuY2lhbF9jb25maWcgPSB7XG4gICAgICAgIGFjY291bnRfdHlwZTogJ2ZpbmFuY2lhbCcsXG4gICAgICAgIGxldmVyYWdlOiAxMDAwLFxuICAgICAgICBzaG9ydF90aXRsZTogaXNfZXUgPyBsb2NhbGl6ZSgnQ0ZEcycpIDogbG9jYWxpemUoJ0ZpbmFuY2lhbCcpLFxuICAgIH07XG4gICAgY29uc3QgZmluYW5jaWFsX3N0cF9jb25maWcgPSB7XG4gICAgICAgIGFjY291bnRfdHlwZTogJ2ZpbmFuY2lhbF9zdHAnLFxuICAgICAgICBsZXZlcmFnZTogMTAwLFxuICAgICAgICBzaG9ydF90aXRsZTogbG9jYWxpemUoJ0ZpbmFuY2lhbCBTVFAnKSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVtbzoge1xuICAgICAgICAgICAgc3ludGhldGljOiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogc3ludGhldGljX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IHN5bnRoZXRpY19jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdEZW1vIFN5bnRoZXRpYycpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBzeW50aGV0aWNfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFuY2lhbDoge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IGZpbmFuY2lhbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBmaW5hbmNpYWxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpc19ldSA/IGxvY2FsaXplKCdEZW1vIENGRHMnKSA6IGxvY2FsaXplKCdEZW1vIEZpbmFuY2lhbCcpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBmaW5hbmNpYWxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFuY2lhbF9zdHA6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBmaW5hbmNpYWxfc3RwX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGZpbmFuY2lhbF9zdHBfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnRGVtbyBGaW5hbmNpYWwgU1RQJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGZpbmFuY2lhbF9zdHBfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVhbDoge1xuICAgICAgICAgICAgc3ludGhldGljOiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogc3ludGhldGljX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IHN5bnRoZXRpY19jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdTeW50aGV0aWMnKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogc3ludGhldGljX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5hbmNpYWw6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBmaW5hbmNpYWxfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogZmluYW5jaWFsX2NvbmZpZy5sZXZlcmFnZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogaXNfZXUgPyBsb2NhbGl6ZSgnQ0ZEcycpIDogbG9jYWxpemUoJ0ZpbmFuY2lhbCcpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBmaW5hbmNpYWxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFuY2lhbF9zdHA6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBmaW5hbmNpYWxfc3RwX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGZpbmFuY2lhbF9zdHBfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnRmluYW5jaWFsIFNUUCcpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBmaW5hbmNpYWxfc3RwX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn07XG4iXSwibmFtZXMiOlsibG9jYWxpemUiLCJnZXREeENvbXBhbmllcyIsInN5bnRoZXRpY19jb25maWciLCJhY2NvdW50X3R5cGUiLCJsZXZlcmFnZSIsInNob3J0X3RpdGxlIiwiZmluYW5jaWFsX2NvbmZpZyIsImRlbW8iLCJzeW50aGV0aWMiLCJkeHRyYWRlX2FjY291bnRfdHlwZSIsInRpdGxlIiwiZmluYW5jaWFsIiwicmVhbCIsImdldE10Q29tcGFuaWVzIiwiaXNfZXUiLCJmaW5hbmNpYWxfc3RwX2NvbmZpZyIsIm10NV9hY2NvdW50X3R5cGUiLCJmaW5hbmNpYWxfc3RwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Stores/Modules/CFD/Helpers/cfd-config.js\n");

/***/ }),

/***/ "./Stores/Modules/CFD/cfd-store.js":
/*!*****************************************!*\
  !*** ./Stores/Modules/CFD/cfd-store.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CFDStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var Stores_base_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Stores/base-store */ \"./Stores/base-store.js\");\n/* harmony import */ var _Helpers_cfd_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Helpers/cfd-config */ \"./Stores/Modules/CFD/Helpers/cfd-config.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\nvar CFDStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec11 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec12 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec13 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec14 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec15 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec16 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec17 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec18 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec19 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec20 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec21 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec22 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec23 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec24 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec25 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec26 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec27 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec28 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec29 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec30 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec31 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, (_class = /*#__PURE__*/function (_BaseStore) {\n  _inherits(CFDStore, _BaseStore);\n\n  var _super = _createSuper(CFDStore);\n\n  // this is a tmp value, don't rely on it, unless you set it first.\n  function CFDStore(_ref) {\n    var _this;\n\n    var root_store = _ref.root_store;\n\n    _classCallCheck(this, CFDStore);\n\n    _this = _super.call(this, {\n      root_store: root_store\n    });\n\n    _initializerDefineProperty(_this, \"is_compare_accounts_visible\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"account_type\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"new_account_response\", _descriptor3, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"map_type\", _descriptor4, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"has_cfd_error\", _descriptor5, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"error_message\", _descriptor6, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_cfd_success_dialog_enabled\", _descriptor7, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_mt5_financial_stp_modal_open\", _descriptor8, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_cfd_password_modal_enabled\", _descriptor9, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_cfd_reset_password_modal_enabled\", _descriptor10, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_cfd_pending_dialog_open\", _descriptor11, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"current_account\", _descriptor12, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"error_type\", _descriptor13, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  _createClass(CFDStore, [{\n    key: \"has_cfd_account\",\n    get: function get() {\n      return this.current_list.length > 0;\n    }\n  }, {\n    key: \"account_title\",\n    get: function get() {\n      return this.account_type.category ? (0,_Helpers_cfd_config__WEBPACK_IMPORTED_MODULE_3__.getMtCompanies)(this.root_store.client.is_eu)[this.account_type.category][this.account_type.type].title : '';\n    }\n  }, {\n    key: \"current_list\",\n    get: function get() {\n      var list = [];\n      this.root_store.client.mt5_login_list.forEach(function (account) {\n        // e.g. mt5.real.financial_stp\n        list[(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAccountListKey)(account, _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5)] = _objectSpread({}, account);\n      });\n      this.root_store.client.dxtrade_accounts_list.forEach(function (account) {\n        // e.g. dxtrade.real.financial_stp\n        list[(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAccountListKey)(account, _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE)] = _objectSpread({}, account);\n      });\n      return list;\n    } // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: \"mt5_companies\",\n    get: function get() {\n      return (0,_Helpers_cfd_config__WEBPACK_IMPORTED_MODULE_3__.getMtCompanies)(this.root_store.client.is_eu);\n    } // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: \"dxtrade_companies\",\n    get: function get() {\n      return (0,_Helpers_cfd_config__WEBPACK_IMPORTED_MODULE_3__.getDxCompanies)();\n    }\n  }, {\n    key: \"onMount\",\n    value: function onMount() {\n      this.checkShouldOpenAccount();\n      this.onRealAccountSignupEnd(this.realAccountSignupEndListener);\n      this.root_store.ui.is_cfd_page = true;\n    }\n  }, {\n    key: \"onUnmount\",\n    value: function onUnmount() {\n      this.disposeRealAccountSignupEnd();\n      this.root_store.ui.is_cfd_page = false;\n    } // other platforms can redirect to here using account switcher's `Add` account button\n    // so in that case we should open the corresponding account opening modal on load/component update\n\n  }, {\n    key: \"checkShouldOpenAccount\",\n    value: function checkShouldOpenAccount() {\n      var account_type = sessionStorage.getItem('open_cfd_account_type');\n\n      if (account_type) {\n        var _account_type$split = account_type.split('.'),\n            _account_type$split2 = _slicedToArray(_account_type$split, 3),\n            category = _account_type$split2[0],\n            type = _account_type$split2[1],\n            set_password = _account_type$split2[2];\n\n        this.createCFDAccount({\n          category: category,\n          type: type,\n          set_password: set_password\n        });\n        sessionStorage.removeItem('open_cfd_account_type');\n      }\n    }\n  }, {\n    key: \"realAccountSignupEndListener\",\n    value: function realAccountSignupEndListener() {\n      var post_signup = JSON.parse(sessionStorage.getItem('post_real_account_signup'));\n\n      if (post_signup && post_signup.category && post_signup.type) {\n        sessionStorage.removeItem('post_real_account_signup');\n        this.enableCFDPasswordModal();\n      }\n\n      return Promise.resolve();\n    }\n  }, {\n    key: \"resetFormErrors\",\n    value: function resetFormErrors() {\n      this.error_message = '';\n      this.error_type = undefined;\n      this.has_cfd_error = false;\n    }\n  }, {\n    key: \"clearCFDError\",\n    value: function clearCFDError() {\n      this.resetFormErrors();\n      this.is_cfd_password_modal_enabled = false;\n    }\n  }, {\n    key: \"createCFDAccount\",\n    value: function createCFDAccount(_ref2) {\n      var category = _ref2.category,\n          type = _ref2.type,\n          set_password = _ref2.set_password;\n      this.clearCFDError();\n      this.setAccountType({\n        category: category,\n        type: type\n      });\n\n      if (category === 'real') {\n        this.realCFDSignup(set_password);\n      } else {\n        this.demoCFDSignup();\n      }\n    }\n  }, {\n    key: \"demoCFDSignup\",\n    value: function demoCFDSignup() {\n      this.enableCFDPasswordModal();\n    }\n  }, {\n    key: \"disableCFDPasswordModal\",\n    value: function disableCFDPasswordModal() {\n      this.is_cfd_password_modal_enabled = false;\n    }\n  }, {\n    key: \"enableCFDPasswordModal\",\n    value: function enableCFDPasswordModal() {\n      this.is_cfd_password_modal_enabled = true;\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      var _ref3 = this.root_store.client.account_settings && this.root_store.client.account_settings,\n          first_name = _ref3.first_name;\n\n      var title = this.mt5_companies[this.account_type.category][this.account_type.type].title; // First name is not set when user has no real account\n\n      return first_name ? [first_name, title].join(' ') : title;\n    }\n  }, {\n    key: \"openMT5Account\",\n    value: function openMT5Account(values) {\n      var name = this.getName();\n      var leverage = this.mt5_companies[this.account_type.category][this.account_type.type].leverage;\n      var type_request = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAccountTypeFields)(this.account_type);\n      return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.mt5NewAccount(_objectSpread(_objectSpread({\n        mainPassword: values.password,\n        email: this.root_store.client.email_address,\n        leverage: leverage,\n        name: name\n      }, values.server ? {\n        server: values.server\n      } : {}), type_request));\n    }\n  }, {\n    key: \"openCFDAccount\",\n    value: function openCFDAccount(values) {\n      return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformNewAccount({\n        password: values.password,\n        platform: values.platform,\n        account_type: this.account_type.category,\n        market_type: this.account_type.type\n      });\n    }\n  }, {\n    key: \"beginRealSignupForMt5\",\n    value: function beginRealSignupForMt5() {\n      sessionStorage.setItem('post_real_account_signup', JSON.stringify(this.account_type));\n      this.root_store.ui.openRealAccountSignup();\n    }\n  }, {\n    key: \"realCFDSignup\",\n    value: function realCFDSignup(set_password) {\n      switch (this.account_type.type) {\n        case 'financial':\n          this.enableCFDPasswordModal();\n          break;\n\n        case 'financial_stp':\n          this.root_store.client.fetchResidenceList();\n          this.root_store.client.fetchStatesList();\n          this.root_store.client.fetchAccountSettings();\n          if (set_password) this.enableCFDPasswordModal();else this.enableMt5FinancialStpModal();\n          break;\n\n        case 'synthetic':\n          this.enableCFDPasswordModal();\n          break;\n\n        default:\n          throw new Error('Cannot determine mt5 account signup.');\n      }\n    }\n  }, {\n    key: \"enableMt5FinancialStpModal\",\n    value: function enableMt5FinancialStpModal() {\n      if (this.account_type.category === 'real' && this.account_type.type === 'financial_stp') {\n        this.is_mt5_financial_stp_modal_open = true;\n      }\n    }\n  }, {\n    key: \"setAccountType\",\n    value: function setAccountType(account_type) {\n      this.account_type = account_type;\n    }\n  }, {\n    key: \"setCurrentAccount\",\n    value: function setCurrentAccount(data, meta) {\n      this.current_account = _objectSpread(_objectSpread({}, meta), data);\n    }\n  }, {\n    key: \"setError\",\n    value: function setError(state, obj) {\n      var _obj$code;\n\n      this.has_cfd_error = state;\n      this.error_message = obj ? obj.message : '';\n      this.error_type = (_obj$code = obj === null || obj === void 0 ? void 0 : obj.code) !== null && _obj$code !== void 0 ? _obj$code : undefined;\n    }\n  }, {\n    key: \"setCFDNewAccount\",\n    value: function setCFDNewAccount(cfd_new_account) {\n      this.new_account_response = cfd_new_account;\n    }\n  }, {\n    key: \"setCFDSuccessDialog\",\n    value: function setCFDSuccessDialog(value) {\n      this.is_cfd_success_dialog_enabled = !!value;\n    }\n  }, {\n    key: \"storeProofOfAddress\",\n    value: function storeProofOfAddress(file_uploader_ref, values, _ref4) {\n      var _this2 = this;\n\n      var setStatus = _ref4.setStatus;\n      return new Promise(function (resolve, reject) {\n        setStatus({\n          msg: ''\n        });\n\n        _this2.setState({\n          is_btn_loading: true\n        });\n\n        _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.setSettings(values).then(function (data) {\n          if (data.error) {\n            setStatus({\n              msg: data.error.message\n            });\n            reject(data);\n          } else {\n            _this2.root_store.fetchAccountSettings(); // force request to update settings cache since settings have been updated\n\n\n            file_uploader_ref.current.upload().then(function (api_response) {\n              if (api_response.warning) {\n                setStatus({\n                  msg: api_response.message\n                });\n                reject(api_response);\n              } else {\n                _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.storage.getAccountStatus().then(function (_ref5) {\n                  var error = _ref5.error,\n                      get_account_status = _ref5.get_account_status;\n\n                  if (error) {\n                    reject(error);\n                  }\n\n                  var identity = get_account_status.authentication.identity;\n                  var has_poi = !(identity && identity.status === 'none');\n                  resolve({\n                    identity: identity,\n                    has_poi: has_poi\n                  });\n                });\n              }\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"getAccountStatus\",\n    value: function () {\n      var _getAccountStatus = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(platform) {\n        var should_load_account_status;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                should_load_account_status = platform === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5 && this.root_store.client.is_mt5_password_not_set || platform === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE && this.root_store.client.is_dxtrade_password_not_set;\n\n                if (!should_load_account_status) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 4;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.getAccountStatus();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getAccountStatus(_x) {\n        return _getAccountStatus.apply(this, arguments);\n      }\n\n      return getAccountStatus;\n    }()\n  }, {\n    key: \"creatMT5Password\",\n    value: function () {\n      var _creatMT5Password = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(values, actions) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformPasswordChange({\n                  new_password: values.password,\n                  platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5\n                });\n\n              case 2:\n                response = _context2.sent;\n\n                if (!response.error) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                this.setError(true, response.error);\n                actions.resetForm({});\n                actions.setSubmitting(false);\n                actions.setStatus({\n                  success: false\n                });\n                return _context2.abrupt(\"return\", true);\n\n              case 9:\n                return _context2.abrupt(\"return\", false);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function creatMT5Password(_x2, _x3) {\n        return _creatMT5Password.apply(this, arguments);\n      }\n\n      return creatMT5Password;\n    }()\n  }, {\n    key: \"submitMt5Password\",\n    value: function () {\n      var _submitMt5Password = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(values, actions) {\n        var has_error, response, mt5_login_list_response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.root_store.client.is_mt5_password_not_set) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _context3.next = 3;\n                return this.creatMT5Password(values, actions);\n\n              case 3:\n                has_error = _context3.sent;\n\n                if (!has_error) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                this.resetFormErrors();\n                _context3.next = 9;\n                return this.openMT5Account(values);\n\n              case 9:\n                response = _context3.sent;\n\n                if (response.error) {\n                  _context3.next = 30;\n                  break;\n                }\n\n                actions.setStatus({\n                  success: true\n                });\n                actions.setSubmitting(false);\n                this.setError(false);\n                this.setCFDSuccessDialog(true);\n                _context3.next = 17;\n                return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5);\n\n              case 17:\n                _context3.next = 19;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.mt5LoginList();\n\n              case 19:\n                mt5_login_list_response = _context3.sent;\n                this.root_store.client.responseMt5LoginList(mt5_login_list_response);\n                _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.transferBetweenAccounts(); // get the list of updated accounts for transfer in cashier\n\n                _context3.t0 = this.root_store.client;\n                _context3.next = 25;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingServers();\n\n              case 25:\n                _context3.t1 = _context3.sent;\n\n                _context3.t0.responseTradingServers.call(_context3.t0, _context3.t1);\n\n                this.setCFDNewAccount(response.mt5_new_account);\n                _context3.next = 36;\n                break;\n\n              case 30:\n                _context3.next = 32;\n                return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5);\n\n              case 32:\n                this.setError(true, response.error);\n                actions.resetForm({});\n                actions.setSubmitting(false);\n                actions.setStatus({\n                  success: false\n                });\n\n              case 36:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function submitMt5Password(_x4, _x5) {\n        return _submitMt5Password.apply(this, arguments);\n      }\n\n      return submitMt5Password;\n    }()\n  }, {\n    key: \"createCFDPassword\",\n    value: function () {\n      var _createCFDPassword = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(values, actions) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformPasswordChange({\n                  new_password: values.password,\n                  platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE\n                });\n\n              case 2:\n                response = _context4.sent;\n\n                if (!response.error) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                this.setError(true, response.error);\n                actions.resetForm({});\n                actions.setSubmitting(false);\n                actions.setStatus({\n                  success: false\n                });\n                return _context4.abrupt(\"return\", true);\n\n              case 9:\n                return _context4.abrupt(\"return\", false);\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function createCFDPassword(_x6, _x7) {\n        return _createCFDPassword.apply(this, arguments);\n      }\n\n      return createCFDPassword;\n    }()\n  }, {\n    key: \"submitCFDPassword\",\n    value: function () {\n      var _submitCFDPassword = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(values, actions) {\n        var has_error, response, trading_platform_accounts_list_response;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this.root_store.client.is_dxtrade_password_not_set) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                _context5.next = 3;\n                return this.createCFDPassword(values, actions);\n\n              case 3:\n                has_error = _context5.sent;\n\n                if (!has_error) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 6:\n                _context5.next = 8;\n                return this.openCFDAccount(values);\n\n              case 8:\n                response = _context5.sent;\n\n                if (response.error) {\n                  _context5.next = 24;\n                  break;\n                }\n\n                actions.setStatus({\n                  success: true\n                });\n                actions.setSubmitting(false);\n                this.setError(false);\n                this.setCFDSuccessDialog(true);\n                _context5.next = 16;\n                return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE);\n\n              case 16:\n                _context5.next = 18;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformAccountsList(values.platform);\n\n              case 18:\n                trading_platform_accounts_list_response = _context5.sent;\n                this.root_store.client.responseTradingPlatformAccountsList(trading_platform_accounts_list_response);\n                _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.transferBetweenAccounts(); // get the list of updated accounts for transfer in cashier\n\n                this.setCFDNewAccount(response.trading_platform_new_account);\n                _context5.next = 30;\n                break;\n\n              case 24:\n                _context5.next = 26;\n                return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE);\n\n              case 26:\n                this.setError(true, response.error);\n                actions.resetForm({});\n                actions.setSubmitting(false);\n                actions.setStatus({\n                  success: false\n                });\n\n              case 30:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function submitCFDPassword(_x8, _x9) {\n        return _submitCFDPassword.apply(this, arguments);\n      }\n\n      return submitCFDPassword;\n    }()\n  }, {\n    key: \"toggleCompareAccountsModal\",\n    value: function toggleCompareAccountsModal() {\n      this.is_compare_accounts_visible = !this.is_compare_accounts_visible;\n    }\n  }, {\n    key: \"disableMt5FinancialStpModal\",\n    value: function disableMt5FinancialStpModal() {\n      this.is_mt5_financial_stp_modal_open = false;\n    }\n  }, {\n    key: \"topUpVirtual\",\n    value: function () {\n      var _topUpVirtual = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(platform) {\n        var _this3 = this;\n\n        var response, new_balance, _this$root_store$clie, _this$root_store$clie2;\n\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.root_store.ui.setTopUpInProgress(true);\n                _context6.t0 = platform;\n                _context6.next = _context6.t0 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE ? 4 : _context6.t0 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5 ? 8 : 12;\n                break;\n\n              case 4:\n                _context6.next = 6;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.send({\n                  trading_platform_deposit: 1,\n                  platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE,\n                  to_account: this.current_account.account_id\n                });\n\n              case 6:\n                response = _context6.sent;\n                return _context6.abrupt(\"break\", 14);\n\n              case 8:\n                _context6.next = 10;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.mt5Deposit({\n                  to_mt5: this.current_account.login\n                });\n\n              case 10:\n                response = _context6.sent;\n                return _context6.abrupt(\"break\", 14);\n\n              case 12:\n                response.error = 'Invalid platform';\n                return _context6.abrupt(\"break\", 14);\n\n              case 14:\n                if (response.error) {\n                  _context6.next = 31;\n                  break;\n                }\n\n                _context6.t1 = platform;\n                _context6.next = _context6.t1 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE ? 18 : _context6.t1 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5 ? 22 : 26;\n                break;\n\n              case 18:\n                _context6.next = 20;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE).then(this.root_store.client.responseTradingPlatformAccountsList);\n\n              case 20:\n                new_balance = (_this$root_store$clie = this.root_store.client.dxtrade_accounts_list.find(function (item) {\n                  return item.account_id === _this3.current_account.account_id;\n                })) === null || _this$root_store$clie === void 0 ? void 0 : _this$root_store$clie.balance;\n                return _context6.abrupt(\"break\", 27);\n\n              case 22:\n                _context6.next = 24;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);\n\n              case 24:\n                new_balance = (_this$root_store$clie2 = this.root_store.client.mt5_login_list.find(function (item) {\n                  return item.login === _this3.current_account.login;\n                })) === null || _this$root_store$clie2 === void 0 ? void 0 : _this$root_store$clie2.balance;\n                return _context6.abrupt(\"break\", 27);\n\n              case 26:\n                return _context6.abrupt(\"break\", 27);\n\n              case 27:\n                (0,mobx__WEBPACK_IMPORTED_MODULE_0__.runInAction)(function () {\n                  // Get new current account\n                  _this3.root_store.ui.is_top_up_virtual_open = false;\n                  _this3.current_account.balance = new_balance;\n                });\n                setTimeout(function () {\n                  (0,mobx__WEBPACK_IMPORTED_MODULE_0__.runInAction)(function () {\n                    _this3.root_store.ui.is_top_up_virtual_success = true;\n                  });\n                }, 250);\n                _context6.next = 32;\n                break;\n\n              case 31:\n                // eslint-disable-next-line no-console\n                console.error(response);\n\n              case 32:\n                this.root_store.ui.setTopUpInProgress(false);\n\n              case 33:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function topUpVirtual(_x10) {\n        return _topUpVirtual.apply(this, arguments);\n      }\n\n      return topUpVirtual;\n    }()\n  }, {\n    key: \"closeCFDPendingDialog\",\n    value: function closeCFDPendingDialog() {\n      this.is_cfd_pending_dialog_open = false;\n    }\n  }, {\n    key: \"openPendingDialog\",\n    value: function openPendingDialog() {\n      var _this4 = this;\n\n      setTimeout((0,mobx__WEBPACK_IMPORTED_MODULE_0__.runInAction)(function () {\n        _this4.is_cfd_pending_dialog_open = true;\n      }), 300);\n    }\n  }, {\n    key: \"sendVerifyEmail\",\n    value: function sendVerifyEmail() {\n      return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.verifyEmail(this.root_store.client.email, 'trading_platform_investor_password_reset');\n    }\n  }, {\n    key: \"setCFDPasswordResetModal\",\n    value: function setCFDPasswordResetModal(val) {\n      this.is_cfd_reset_password_modal_enabled = !!val;\n    }\n  }], [{\n    key: \"changePassword\",\n    value: function () {\n      var _changePassword = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(_ref6) {\n        var _response, _response$error;\n\n        var login, old_password, new_password, password_type, response;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                login = _ref6.login, old_password = _ref6.old_password, new_password = _ref6.new_password, password_type = _ref6.password_type;\n\n                if (!(password_type === 'investor')) {\n                  _context7.next = 7;\n                  break;\n                }\n\n                _context7.next = 4;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.tradingPlatformInvestorPasswordChange({\n                  account_id: login,\n                  old_password: old_password,\n                  new_password: new_password,\n                  platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5\n                });\n\n              case 4:\n                response = _context7.sent;\n                _context7.next = 10;\n                break;\n\n              case 7:\n                _context7.next = 9;\n                return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.tradingPlatformPasswordChange({\n                  account_id: login,\n                  old_password: old_password,\n                  new_password: new_password,\n                  platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5\n                });\n\n              case 9:\n                response = _context7.sent;\n\n              case 10:\n                return _context7.abrupt(\"return\", (_response = response) === null || _response === void 0 ? void 0 : (_response$error = _response.error) === null || _response$error === void 0 ? void 0 : _response$error.message);\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function changePassword(_x11) {\n        return _changePassword.apply(this, arguments);\n      }\n\n      return changePassword;\n    }()\n  }]);\n\n  return CFDStore;\n}(Stores_base_store__WEBPACK_IMPORTED_MODULE_2__.default), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"is_compare_accounts_visible\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"account_type\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {\n      category: undefined,\n      type: undefined\n    };\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"new_account_response\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"map_type\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"has_cfd_error\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"error_message\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"is_cfd_success_dialog_enabled\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"is_mt5_financial_stp_modal_open\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"is_cfd_password_modal_enabled\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"is_cfd_reset_password_modal_enabled\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"is_cfd_pending_dialog_open\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"current_account\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"error_type\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"has_cfd_account\", [mobx__WEBPACK_IMPORTED_MODULE_0__.computed], Object.getOwnPropertyDescriptor(_class.prototype, \"has_cfd_account\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"account_title\", [mobx__WEBPACK_IMPORTED_MODULE_0__.computed], Object.getOwnPropertyDescriptor(_class.prototype, \"account_title\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"current_list\", [mobx__WEBPACK_IMPORTED_MODULE_0__.computed], Object.getOwnPropertyDescriptor(_class.prototype, \"current_list\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMount\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onMount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onUnmount\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onUnmount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"realAccountSignupEndListener\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"realAccountSignupEndListener\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetFormErrors\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"resetFormErrors\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"clearCFDError\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"clearCFDError\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"createCFDAccount\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"createCFDAccount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disableCFDPasswordModal\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"disableCFDPasswordModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"enableCFDPasswordModal\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"enableCFDPasswordModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getName\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"getName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openMT5Account\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"openMT5Account\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openCFDAccount\", [_dec11], Object.getOwnPropertyDescriptor(_class.prototype, \"openCFDAccount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"beginRealSignupForMt5\", [_dec12], Object.getOwnPropertyDescriptor(_class.prototype, \"beginRealSignupForMt5\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"enableMt5FinancialStpModal\", [_dec13], Object.getOwnPropertyDescriptor(_class.prototype, \"enableMt5FinancialStpModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setAccountType\", [_dec14], Object.getOwnPropertyDescriptor(_class.prototype, \"setAccountType\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setCurrentAccount\", [_dec15], Object.getOwnPropertyDescriptor(_class.prototype, \"setCurrentAccount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setError\", [_dec16], Object.getOwnPropertyDescriptor(_class.prototype, \"setError\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setCFDNewAccount\", [_dec17], Object.getOwnPropertyDescriptor(_class.prototype, \"setCFDNewAccount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setCFDSuccessDialog\", [_dec18], Object.getOwnPropertyDescriptor(_class.prototype, \"setCFDSuccessDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"storeProofOfAddress\", [_dec19], Object.getOwnPropertyDescriptor(_class.prototype, \"storeProofOfAddress\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getAccountStatus\", [_dec20], Object.getOwnPropertyDescriptor(_class.prototype, \"getAccountStatus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"creatMT5Password\", [_dec21], Object.getOwnPropertyDescriptor(_class.prototype, \"creatMT5Password\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"submitMt5Password\", [_dec22], Object.getOwnPropertyDescriptor(_class.prototype, \"submitMt5Password\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"createCFDPassword\", [_dec23], Object.getOwnPropertyDescriptor(_class.prototype, \"createCFDPassword\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"submitCFDPassword\", [_dec24], Object.getOwnPropertyDescriptor(_class.prototype, \"submitCFDPassword\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleCompareAccountsModal\", [_dec25], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleCompareAccountsModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disableMt5FinancialStpModal\", [_dec26], Object.getOwnPropertyDescriptor(_class.prototype, \"disableMt5FinancialStpModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"topUpVirtual\", [_dec27], Object.getOwnPropertyDescriptor(_class.prototype, \"topUpVirtual\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"closeCFDPendingDialog\", [_dec28], Object.getOwnPropertyDescriptor(_class.prototype, \"closeCFDPendingDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openPendingDialog\", [_dec29], Object.getOwnPropertyDescriptor(_class.prototype, \"openPendingDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"sendVerifyEmail\", [_dec30], Object.getOwnPropertyDescriptor(_class.prototype, \"sendVerifyEmail\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setCFDPasswordResetModal\", [_dec31], Object.getOwnPropertyDescriptor(_class.prototype, \"setCFDPasswordResetModal\"), _class.prototype)), _class));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvTW9kdWxlcy9DRkQvY2ZkLXN0b3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFtQkE7QUFJQTtBQUFBOztBQUFBOztBQUFBOztBQUNBO0FBQUE7QUFBQTs7QUFEQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTtBQUVBOzs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBR0E7OztBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTs7OztBQUdBO0FBQ0E7QUFDQTs7OztBQUdBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTs7OztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFBQTs7QUFDQTs7QUFHQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUtBO0FBQUE7QUFHQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBZkE7QUFpQkE7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUlBOzs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOztBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTs7QUFGQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7OztBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRkE7O0FBRkE7QUFFQTs7QUFGQTtBQUFBO0FBQUE7QUFBQTs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFWQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7OztBQWdCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBR0E7O0FBSEE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFPQTtBQVBBO0FBQUE7O0FBQUE7QUFRQTs7QUFSQTtBQUFBO0FBQUE7QUFBQTs7QUFVQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQWdCQTtBQUNBO0FBRUE7O0FBbkJBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBOztBQXFCQTtBQXJCQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7O0FBM0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7OztBQStCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUZBOztBQUZBO0FBRUE7O0FBRkE7QUFBQTtBQUFBO0FBQUE7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBVkE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7QUFpQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUdBOztBQUhBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU9BOztBQVBBO0FBQUE7QUFBQTtBQUFBOztBQVNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBZUE7QUFDQTtBQUVBOztBQUNBO0FBbkJBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUF6QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUE2QkE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7Ozs7QUFFQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFGQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBSEE7O0FBUEE7QUFPQTtBQVBBOztBQUFBO0FBQUE7QUFBQTtBQWdCQTtBQURBOztBQWZBO0FBZUE7QUFmQTs7QUFBQTtBQXFCQTtBQXJCQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFpQ0E7QUFDQTtBQUFBO0FBbENBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQXlDQTtBQUNBO0FBQUE7QUExQ0E7O0FBQUE7QUFBQTs7QUFBQTtBQWtEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTNEQTtBQUFBOztBQUFBO0FBNkRBO0FBQ0E7O0FBOURBO0FBZ0VBOztBQWhFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQW1FQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQ0E7QUFFQTtBQUNBO0FBR0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7O0FBRUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7O0FBSkE7QUFJQTtBQUpBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTs7QUFYQTtBQVdBOztBQVhBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FBdGVBOzs7OztBQUNBOztBQUNBOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUZBOztBQUtBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBOztBQUVBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBOztBQUVBOzs7OztBQUFBOztBQUVBOzs7OztBQUFBOztBQUVBOzs7OztBQUFBOztBQU1BIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L3RyYWRlci8uL1N0b3Jlcy9Nb2R1bGVzL0NGRC9jZmQtc3RvcmUuanM/NDU2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIGNvbXB1dGVkLCBvYnNlcnZhYmxlLCBydW5JbkFjdGlvbiB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgZ2V0QWNjb3VudExpc3RLZXksIGdldEFjY291bnRUeXBlRmllbGRzLCBDRkRfUExBVEZPUk1TLCBXUyB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IEJhc2VTdG9yZSBmcm9tICdTdG9yZXMvYmFzZS1zdG9yZSc7XG5pbXBvcnQgeyBnZXREeENvbXBhbmllcywgZ2V0TXRDb21wYW5pZXMgfSBmcm9tICcuL0hlbHBlcnMvY2ZkLWNvbmZpZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENGRFN0b3JlIGV4dGVuZHMgQmFzZVN0b3JlIHtcbiAgICBAb2JzZXJ2YWJsZSBpc19jb21wYXJlX2FjY291bnRzX3Zpc2libGUgPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBhY2NvdW50X3R5cGUgPSB7XG4gICAgICAgIGNhdGVnb3J5OiB1bmRlZmluZWQsXG4gICAgICAgIHR5cGU6IHVuZGVmaW5lZCxcbiAgICB9O1xuXG4gICAgQG9ic2VydmFibGUgbmV3X2FjY291bnRfcmVzcG9uc2UgPSB7fTtcbiAgICBAb2JzZXJ2YWJsZSBtYXBfdHlwZSA9IHt9O1xuICAgIEBvYnNlcnZhYmxlIGhhc19jZmRfZXJyb3IgPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBlcnJvcl9tZXNzYWdlID0gJyc7XG5cbiAgICBAb2JzZXJ2YWJsZSBpc19jZmRfc3VjY2Vzc19kaWFsb2dfZW5hYmxlZCA9IGZhbHNlO1xuICAgIEBvYnNlcnZhYmxlIGlzX210NV9maW5hbmNpYWxfc3RwX21vZGFsX29wZW4gPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBpc19jZmRfcGFzc3dvcmRfbW9kYWxfZW5hYmxlZCA9IGZhbHNlO1xuICAgIEBvYnNlcnZhYmxlIGlzX2NmZF9yZXNldF9wYXNzd29yZF9tb2RhbF9lbmFibGVkID0gZmFsc2U7XG5cbiAgICBAb2JzZXJ2YWJsZSBpc19jZmRfcGVuZGluZ19kaWFsb2dfb3BlbiA9IGZhbHNlO1xuXG4gICAgQG9ic2VydmFibGUgY3VycmVudF9hY2NvdW50ID0gdW5kZWZpbmVkOyAvLyB0aGlzIGlzIGEgdG1wIHZhbHVlLCBkb24ndCByZWx5IG9uIGl0LCB1bmxlc3MgeW91IHNldCBpdCBmaXJzdC5cblxuICAgIEBvYnNlcnZhYmxlIGVycm9yX3R5cGUgPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih7IHJvb3Rfc3RvcmUgfSkge1xuICAgICAgICBzdXBlcih7IHJvb3Rfc3RvcmUgfSk7XG4gICAgfVxuXG4gICAgQGNvbXB1dGVkXG4gICAgZ2V0IGhhc19jZmRfYWNjb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudF9saXN0Lmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgQGNvbXB1dGVkXG4gICAgZ2V0IGFjY291bnRfdGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY291bnRfdHlwZS5jYXRlZ29yeVxuICAgICAgICAgICAgPyBnZXRNdENvbXBhbmllcyh0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2V1KVt0aGlzLmFjY291bnRfdHlwZS5jYXRlZ29yeV1bdGhpcy5hY2NvdW50X3R5cGUudHlwZV0udGl0bGVcbiAgICAgICAgICAgIDogJyc7XG4gICAgfVxuXG4gICAgQGNvbXB1dGVkXG4gICAgZ2V0IGN1cnJlbnRfbGlzdCgpIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IFtdO1xuXG4gICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQubXQ1X2xvZ2luX2xpc3QuZm9yRWFjaChhY2NvdW50ID0+IHtcbiAgICAgICAgICAgIC8vIGUuZy4gbXQ1LnJlYWwuZmluYW5jaWFsX3N0cFxuICAgICAgICAgICAgbGlzdFtnZXRBY2NvdW50TGlzdEtleShhY2NvdW50LCBDRkRfUExBVEZPUk1TLk1UNSldID0ge1xuICAgICAgICAgICAgICAgIC4uLmFjY291bnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmR4dHJhZGVfYWNjb3VudHNfbGlzdC5mb3JFYWNoKGFjY291bnQgPT4ge1xuICAgICAgICAgICAgLy8gZS5nLiBkeHRyYWRlLnJlYWwuZmluYW5jaWFsX3N0cFxuICAgICAgICAgICAgbGlzdFtnZXRBY2NvdW50TGlzdEtleShhY2NvdW50LCBDRkRfUExBVEZPUk1TLkRYVFJBREUpXSA9IHtcbiAgICAgICAgICAgICAgICAuLi5hY2NvdW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBnZXQgbXQ1X2NvbXBhbmllcygpIHtcbiAgICAgICAgcmV0dXJuIGdldE10Q29tcGFuaWVzKHRoaXMucm9vdF9zdG9yZS5jbGllbnQuaXNfZXUpO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgZ2V0IGR4dHJhZGVfY29tcGFuaWVzKCkge1xuICAgICAgICByZXR1cm4gZ2V0RHhDb21wYW5pZXMoKTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgb25Nb3VudCgpIHtcbiAgICAgICAgdGhpcy5jaGVja1Nob3VsZE9wZW5BY2NvdW50KCk7XG4gICAgICAgIHRoaXMub25SZWFsQWNjb3VudFNpZ251cEVuZCh0aGlzLnJlYWxBY2NvdW50U2lnbnVwRW5kTGlzdGVuZXIpO1xuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUudWkuaXNfY2ZkX3BhZ2UgPSB0cnVlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBvblVubW91bnQoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJlYWxBY2NvdW50U2lnbnVwRW5kKCk7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZS51aS5pc19jZmRfcGFnZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIG90aGVyIHBsYXRmb3JtcyBjYW4gcmVkaXJlY3QgdG8gaGVyZSB1c2luZyBhY2NvdW50IHN3aXRjaGVyJ3MgYEFkZGAgYWNjb3VudCBidXR0b25cbiAgICAvLyBzbyBpbiB0aGF0IGNhc2Ugd2Ugc2hvdWxkIG9wZW4gdGhlIGNvcnJlc3BvbmRpbmcgYWNjb3VudCBvcGVuaW5nIG1vZGFsIG9uIGxvYWQvY29tcG9uZW50IHVwZGF0ZVxuICAgIGNoZWNrU2hvdWxkT3BlbkFjY291bnQoKSB7XG4gICAgICAgIGNvbnN0IGFjY291bnRfdHlwZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ29wZW5fY2ZkX2FjY291bnRfdHlwZScpO1xuICAgICAgICBpZiAoYWNjb3VudF90eXBlKSB7XG4gICAgICAgICAgICBjb25zdCBbY2F0ZWdvcnksIHR5cGUsIHNldF9wYXNzd29yZF0gPSBhY2NvdW50X3R5cGUuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ0ZEQWNjb3VudCh7IGNhdGVnb3J5LCB0eXBlLCBzZXRfcGFzc3dvcmQgfSk7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdvcGVuX2NmZF9hY2NvdW50X3R5cGUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICByZWFsQWNjb3VudFNpZ251cEVuZExpc3RlbmVyKCkge1xuICAgICAgICBjb25zdCBwb3N0X3NpZ251cCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncG9zdF9yZWFsX2FjY291bnRfc2lnbnVwJykpO1xuICAgICAgICBpZiAocG9zdF9zaWdudXAgJiYgcG9zdF9zaWdudXAuY2F0ZWdvcnkgJiYgcG9zdF9zaWdudXAudHlwZSkge1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgncG9zdF9yZWFsX2FjY291bnRfc2lnbnVwJyk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUNGRFBhc3N3b3JkTW9kYWwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHJlc2V0Rm9ybUVycm9ycygpIHtcbiAgICAgICAgdGhpcy5lcnJvcl9tZXNzYWdlID0gJyc7XG4gICAgICAgIHRoaXMuZXJyb3JfdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5oYXNfY2ZkX2Vycm9yID0gZmFsc2U7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGNsZWFyQ0ZERXJyb3IoKSB7XG4gICAgICAgIHRoaXMucmVzZXRGb3JtRXJyb3JzKCk7XG4gICAgICAgIHRoaXMuaXNfY2ZkX3Bhc3N3b3JkX21vZGFsX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgY3JlYXRlQ0ZEQWNjb3VudCh7IGNhdGVnb3J5LCB0eXBlLCBzZXRfcGFzc3dvcmQgfSkge1xuICAgICAgICB0aGlzLmNsZWFyQ0ZERXJyb3IoKTtcbiAgICAgICAgdGhpcy5zZXRBY2NvdW50VHlwZSh7XG4gICAgICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjYXRlZ29yeSA9PT0gJ3JlYWwnKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWxDRkRTaWdudXAoc2V0X3Bhc3N3b3JkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVtb0NGRFNpZ251cCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVtb0NGRFNpZ251cCgpIHtcbiAgICAgICAgdGhpcy5lbmFibGVDRkRQYXNzd29yZE1vZGFsKCk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGRpc2FibGVDRkRQYXNzd29yZE1vZGFsKCkge1xuICAgICAgICB0aGlzLmlzX2NmZF9wYXNzd29yZF9tb2RhbF9lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGVuYWJsZUNGRFBhc3N3b3JkTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuaXNfY2ZkX3Bhc3N3b3JkX21vZGFsX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBnZXROYW1lKCkge1xuICAgICAgICBjb25zdCB7IGZpcnN0X25hbWUgfSA9IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuYWNjb3VudF9zZXR0aW5ncyAmJiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmFjY291bnRfc2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5tdDVfY29tcGFuaWVzW3RoaXMuYWNjb3VudF90eXBlLmNhdGVnb3J5XVt0aGlzLmFjY291bnRfdHlwZS50eXBlXS50aXRsZTtcblxuICAgICAgICAvLyBGaXJzdCBuYW1lIGlzIG5vdCBzZXQgd2hlbiB1c2VyIGhhcyBubyByZWFsIGFjY291bnRcbiAgICAgICAgcmV0dXJuIGZpcnN0X25hbWUgPyBbZmlyc3RfbmFtZSwgdGl0bGVdLmpvaW4oJyAnKSA6IHRpdGxlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBvcGVuTVQ1QWNjb3VudCh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0TmFtZSgpO1xuICAgICAgICBjb25zdCBsZXZlcmFnZSA9IHRoaXMubXQ1X2NvbXBhbmllc1t0aGlzLmFjY291bnRfdHlwZS5jYXRlZ29yeV1bdGhpcy5hY2NvdW50X3R5cGUudHlwZV0ubGV2ZXJhZ2U7XG4gICAgICAgIGNvbnN0IHR5cGVfcmVxdWVzdCA9IGdldEFjY291bnRUeXBlRmllbGRzKHRoaXMuYWNjb3VudF90eXBlKTtcblxuICAgICAgICByZXR1cm4gV1MubXQ1TmV3QWNjb3VudCh7XG4gICAgICAgICAgICBtYWluUGFzc3dvcmQ6IHZhbHVlcy5wYXNzd29yZCxcbiAgICAgICAgICAgIGVtYWlsOiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmVtYWlsX2FkZHJlc3MsXG4gICAgICAgICAgICBsZXZlcmFnZSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAuLi4odmFsdWVzLnNlcnZlciA/IHsgc2VydmVyOiB2YWx1ZXMuc2VydmVyIH0gOiB7fSksXG4gICAgICAgICAgICAuLi50eXBlX3JlcXVlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBvcGVuQ0ZEQWNjb3VudCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIFdTLnRyYWRpbmdQbGF0Zm9ybU5ld0FjY291bnQoe1xuICAgICAgICAgICAgcGFzc3dvcmQ6IHZhbHVlcy5wYXNzd29yZCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiB2YWx1ZXMucGxhdGZvcm0sXG4gICAgICAgICAgICBhY2NvdW50X3R5cGU6IHRoaXMuYWNjb3VudF90eXBlLmNhdGVnb3J5LFxuICAgICAgICAgICAgbWFya2V0X3R5cGU6IHRoaXMuYWNjb3VudF90eXBlLnR5cGUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBiZWdpblJlYWxTaWdudXBGb3JNdDUoKSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Bvc3RfcmVhbF9hY2NvdW50X3NpZ251cCcsIEpTT04uc3RyaW5naWZ5KHRoaXMuYWNjb3VudF90eXBlKSk7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZS51aS5vcGVuUmVhbEFjY291bnRTaWdudXAoKTtcbiAgICB9XG5cbiAgICByZWFsQ0ZEU2lnbnVwKHNldF9wYXNzd29yZCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuYWNjb3VudF90eXBlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ZpbmFuY2lhbCc6XG4gICAgICAgICAgICAgICAgdGhpcy5lbmFibGVDRkRQYXNzd29yZE1vZGFsKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmaW5hbmNpYWxfc3RwJzpcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmZldGNoUmVzaWRlbmNlTGlzdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuZmV0Y2hTdGF0ZXNMaXN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5mZXRjaEFjY291bnRTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIGlmIChzZXRfcGFzc3dvcmQpIHRoaXMuZW5hYmxlQ0ZEUGFzc3dvcmRNb2RhbCgpO1xuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5lbmFibGVNdDVGaW5hbmNpYWxTdHBNb2RhbCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3ludGhldGljJzpcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZUNGRFBhc3N3b3JkTW9kYWwoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGV0ZXJtaW5lIG10NSBhY2NvdW50IHNpZ251cC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBlbmFibGVNdDVGaW5hbmNpYWxTdHBNb2RhbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWNjb3VudF90eXBlLmNhdGVnb3J5ID09PSAncmVhbCcgJiYgdGhpcy5hY2NvdW50X3R5cGUudHlwZSA9PT0gJ2ZpbmFuY2lhbF9zdHAnKSB7XG4gICAgICAgICAgICB0aGlzLmlzX210NV9maW5hbmNpYWxfc3RwX21vZGFsX29wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHNldEFjY291bnRUeXBlKGFjY291bnRfdHlwZSkge1xuICAgICAgICB0aGlzLmFjY291bnRfdHlwZSA9IGFjY291bnRfdHlwZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2V0Q3VycmVudEFjY291bnQoZGF0YSwgbWV0YSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRfYWNjb3VudCA9IHtcbiAgICAgICAgICAgIC4uLm1ldGEsXG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXRFcnJvcihzdGF0ZSwgb2JqKSB7XG4gICAgICAgIHRoaXMuaGFzX2NmZF9lcnJvciA9IHN0YXRlO1xuICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSBvYmogPyBvYmoubWVzc2FnZSA6ICcnO1xuICAgICAgICB0aGlzLmVycm9yX3R5cGUgPSBvYmo/LmNvZGUgPz8gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXRDRkROZXdBY2NvdW50KGNmZF9uZXdfYWNjb3VudCkge1xuICAgICAgICB0aGlzLm5ld19hY2NvdW50X3Jlc3BvbnNlID0gY2ZkX25ld19hY2NvdW50O1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXRDRkRTdWNjZXNzRGlhbG9nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaXNfY2ZkX3N1Y2Nlc3NfZGlhbG9nX2VuYWJsZWQgPSAhIXZhbHVlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzdG9yZVByb29mT2ZBZGRyZXNzKGZpbGVfdXBsb2FkZXJfcmVmLCB2YWx1ZXMsIHsgc2V0U3RhdHVzIH0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHNldFN0YXR1cyh7IG1zZzogJycgfSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNfYnRuX2xvYWRpbmc6IHRydWUgfSk7XG5cbiAgICAgICAgICAgIFdTLnNldFNldHRpbmdzKHZhbHVlcykudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoeyBtc2c6IGRhdGEuZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5mZXRjaEFjY291bnRTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZSByZXF1ZXN0IHRvIHVwZGF0ZSBzZXR0aW5ncyBjYWNoZSBzaW5jZSBzZXR0aW5ncyBoYXZlIGJlZW4gdXBkYXRlZFxuICAgICAgICAgICAgICAgICAgICBmaWxlX3VwbG9hZGVyX3JlZi5jdXJyZW50LnVwbG9hZCgpLnRoZW4oYXBpX3Jlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcGlfcmVzcG9uc2Uud2FybmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXR1cyh7IG1zZzogYXBpX3Jlc3BvbnNlLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGFwaV9yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdTLmF1dGhvcml6ZWQuc3RvcmFnZS5nZXRBY2NvdW50U3RhdHVzKCkudGhlbigoeyBlcnJvciwgZ2V0X2FjY291bnRfc3RhdHVzIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgaWRlbnRpdHkgfSA9IGdldF9hY2NvdW50X3N0YXR1cy5hdXRoZW50aWNhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzX3BvaSA9ICEoaWRlbnRpdHkgJiYgaWRlbnRpdHkuc3RhdHVzID09PSAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzX3BvaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgYXN5bmMgZ2V0QWNjb3VudFN0YXR1cyhwbGF0Zm9ybSkge1xuICAgICAgICBjb25zdCBzaG91bGRfbG9hZF9hY2NvdW50X3N0YXR1cyA9XG4gICAgICAgICAgICAocGxhdGZvcm0gPT09IENGRF9QTEFURk9STVMuTVQ1ICYmIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuaXNfbXQ1X3Bhc3N3b3JkX25vdF9zZXQpIHx8XG4gICAgICAgICAgICAocGxhdGZvcm0gPT09IENGRF9QTEFURk9STVMuRFhUUkFERSAmJiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2R4dHJhZGVfcGFzc3dvcmRfbm90X3NldCk7XG5cbiAgICAgICAgaWYgKHNob3VsZF9sb2FkX2FjY291bnRfc3RhdHVzKSB7XG4gICAgICAgICAgICBhd2FpdCBXUy5nZXRBY2NvdW50U3RhdHVzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgYXN5bmMgY3JlYXRNVDVQYXNzd29yZCh2YWx1ZXMsIGFjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBXUy50cmFkaW5nUGxhdGZvcm1QYXNzd29yZENoYW5nZSh7XG4gICAgICAgICAgICBuZXdfcGFzc3dvcmQ6IHZhbHVlcy5wYXNzd29yZCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBDRkRfUExBVEZPUk1TLk1UNSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZXRFcnJvcih0cnVlLCByZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICBhY3Rpb25zLnJlc2V0Rm9ybSh7fSk7XG4gICAgICAgICAgICBhY3Rpb25zLnNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgYWN0aW9ucy5zZXRTdGF0dXMoeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgYXN5bmMgc3VibWl0TXQ1UGFzc3dvcmQodmFsdWVzLCBhY3Rpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX210NV9wYXNzd29yZF9ub3Rfc2V0KSB7XG4gICAgICAgICAgICBjb25zdCBoYXNfZXJyb3IgPSBhd2FpdCB0aGlzLmNyZWF0TVQ1UGFzc3dvcmQodmFsdWVzLCBhY3Rpb25zKTtcbiAgICAgICAgICAgIGlmIChoYXNfZXJyb3IpIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzZXRGb3JtRXJyb3JzKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5vcGVuTVQ1QWNjb3VudCh2YWx1ZXMpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnNldFN0YXR1cyh7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICBhY3Rpb25zLnNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zZXRFcnJvcihmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNldENGRFN1Y2Nlc3NEaWFsb2codHJ1ZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmdldEFjY291bnRTdGF0dXMoQ0ZEX1BMQVRGT1JNUy5NVDUpO1xuXG4gICAgICAgICAgICBjb25zdCBtdDVfbG9naW5fbGlzdF9yZXNwb25zZSA9IGF3YWl0IFdTLmF1dGhvcml6ZWQubXQ1TG9naW5MaXN0KCk7XG4gICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnJlc3BvbnNlTXQ1TG9naW5MaXN0KG10NV9sb2dpbl9saXN0X3Jlc3BvbnNlKTtcblxuICAgICAgICAgICAgV1MudHJhbnNmZXJCZXR3ZWVuQWNjb3VudHMoKTsgLy8gZ2V0IHRoZSBsaXN0IG9mIHVwZGF0ZWQgYWNjb3VudHMgZm9yIHRyYW5zZmVyIGluIGNhc2hpZXJcbiAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQucmVzcG9uc2VUcmFkaW5nU2VydmVycyhhd2FpdCBXUy50cmFkaW5nU2VydmVycygpKTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q0ZETmV3QWNjb3VudChyZXNwb25zZS5tdDVfbmV3X2FjY291bnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRBY2NvdW50U3RhdHVzKENGRF9QTEFURk9STVMuTVQ1KTtcbiAgICAgICAgICAgIHRoaXMuc2V0RXJyb3IodHJ1ZSwgcmVzcG9uc2UuZXJyb3IpO1xuICAgICAgICAgICAgYWN0aW9ucy5yZXNldEZvcm0oe30pO1xuICAgICAgICAgICAgYWN0aW9ucy5zZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgIGFjdGlvbnMuc2V0U3RhdHVzKHsgc3VjY2VzczogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgYXN5bmMgY3JlYXRlQ0ZEUGFzc3dvcmQodmFsdWVzLCBhY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgV1MudHJhZGluZ1BsYXRmb3JtUGFzc3dvcmRDaGFuZ2Uoe1xuICAgICAgICAgICAgbmV3X3Bhc3N3b3JkOiB2YWx1ZXMucGFzc3dvcmQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogQ0ZEX1BMQVRGT1JNUy5EWFRSQURFLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNldEVycm9yKHRydWUsIHJlc3BvbnNlLmVycm9yKTtcbiAgICAgICAgICAgIGFjdGlvbnMucmVzZXRGb3JtKHt9KTtcbiAgICAgICAgICAgIGFjdGlvbnMuc2V0U3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgICAgICBhY3Rpb25zLnNldFN0YXR1cyh7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGFzeW5jIHN1Ym1pdENGRFBhc3N3b3JkKHZhbHVlcywgYWN0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5yb290X3N0b3JlLmNsaWVudC5pc19keHRyYWRlX3Bhc3N3b3JkX25vdF9zZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhc19lcnJvciA9IGF3YWl0IHRoaXMuY3JlYXRlQ0ZEUGFzc3dvcmQodmFsdWVzLCBhY3Rpb25zKTtcbiAgICAgICAgICAgIGlmIChoYXNfZXJyb3IpIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5vcGVuQ0ZEQWNjb3VudCh2YWx1ZXMpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnNldFN0YXR1cyh7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICBhY3Rpb25zLnNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zZXRFcnJvcihmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNldENGRFN1Y2Nlc3NEaWFsb2codHJ1ZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmdldEFjY291bnRTdGF0dXMoQ0ZEX1BMQVRGT1JNUy5EWFRSQURFKTtcblxuICAgICAgICAgICAgY29uc3QgdHJhZGluZ19wbGF0Zm9ybV9hY2NvdW50c19saXN0X3Jlc3BvbnNlID0gYXdhaXQgV1MudHJhZGluZ1BsYXRmb3JtQWNjb3VudHNMaXN0KHZhbHVlcy5wbGF0Zm9ybSk7XG4gICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnJlc3BvbnNlVHJhZGluZ1BsYXRmb3JtQWNjb3VudHNMaXN0KHRyYWRpbmdfcGxhdGZvcm1fYWNjb3VudHNfbGlzdF9yZXNwb25zZSk7XG5cbiAgICAgICAgICAgIFdTLnRyYW5zZmVyQmV0d2VlbkFjY291bnRzKCk7IC8vIGdldCB0aGUgbGlzdCBvZiB1cGRhdGVkIGFjY291bnRzIGZvciB0cmFuc2ZlciBpbiBjYXNoaWVyXG4gICAgICAgICAgICB0aGlzLnNldENGRE5ld0FjY291bnQocmVzcG9uc2UudHJhZGluZ19wbGF0Zm9ybV9uZXdfYWNjb3VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmdldEFjY291bnRTdGF0dXMoQ0ZEX1BMQVRGT1JNUy5EWFRSQURFKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RXJyb3IodHJ1ZSwgcmVzcG9uc2UuZXJyb3IpO1xuICAgICAgICAgICAgYWN0aW9ucy5yZXNldEZvcm0oe30pO1xuICAgICAgICAgICAgYWN0aW9ucy5zZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgIGFjdGlvbnMuc2V0U3RhdHVzKHsgc3VjY2VzczogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgdG9nZ2xlQ29tcGFyZUFjY291bnRzTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuaXNfY29tcGFyZV9hY2NvdW50c192aXNpYmxlID0gIXRoaXMuaXNfY29tcGFyZV9hY2NvdW50c192aXNpYmxlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBkaXNhYmxlTXQ1RmluYW5jaWFsU3RwTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuaXNfbXQ1X2ZpbmFuY2lhbF9zdHBfbW9kYWxfb3BlbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBhc3luYyB0b3BVcFZpcnR1YWwocGxhdGZvcm0pIHtcbiAgICAgICAgdGhpcy5yb290X3N0b3JlLnVpLnNldFRvcFVwSW5Qcm9ncmVzcyh0cnVlKTtcbiAgICAgICAgbGV0IHJlc3BvbnNlO1xuXG4gICAgICAgIHN3aXRjaCAocGxhdGZvcm0pIHtcbiAgICAgICAgICAgIGNhc2UgQ0ZEX1BMQVRGT1JNUy5EWFRSQURFOiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBXUy5hdXRob3JpemVkLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICB0cmFkaW5nX3BsYXRmb3JtX2RlcG9zaXQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBDRkRfUExBVEZPUk1TLkRYVFJBREUsXG4gICAgICAgICAgICAgICAgICAgIHRvX2FjY291bnQ6IHRoaXMuY3VycmVudF9hY2NvdW50LmFjY291bnRfaWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIENGRF9QTEFURk9STVMuTVQ1OiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBXUy5hdXRob3JpemVkLm10NURlcG9zaXQoe1xuICAgICAgICAgICAgICAgICAgICB0b19tdDU6IHRoaXMuY3VycmVudF9hY2NvdW50LmxvZ2luLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmVycm9yID0gJ0ludmFsaWQgcGxhdGZvcm0nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgbGV0IG5ld19iYWxhbmNlO1xuICAgICAgICAgICAgc3dpdGNoIChwbGF0Zm9ybSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ0ZEX1BMQVRGT1JNUy5EWFRSQURFOiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFdTLmF1dGhvcml6ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QoQ0ZEX1BMQVRGT1JNUy5EWFRSQURFKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4odGhpcy5yb290X3N0b3JlLmNsaWVudC5yZXNwb25zZVRyYWRpbmdQbGF0Zm9ybUFjY291bnRzTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld19iYWxhbmNlID0gdGhpcy5yb290X3N0b3JlLmNsaWVudC5keHRyYWRlX2FjY291bnRzX2xpc3QuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPT4gaXRlbS5hY2NvdW50X2lkID09PSB0aGlzLmN1cnJlbnRfYWNjb3VudC5hY2NvdW50X2lkXG4gICAgICAgICAgICAgICAgICAgICk/LmJhbGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIENGRF9QTEFURk9STVMuTVQ1OiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFdTLmF1dGhvcml6ZWQubXQ1TG9naW5MaXN0KCkudGhlbih0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnJlc3BvbnNlTXQ1TG9naW5MaXN0KTtcblxuICAgICAgICAgICAgICAgICAgICBuZXdfYmFsYW5jZSA9IHRoaXMucm9vdF9zdG9yZS5jbGllbnQubXQ1X2xvZ2luX2xpc3QuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPT4gaXRlbS5sb2dpbiA9PT0gdGhpcy5jdXJyZW50X2FjY291bnQubG9naW5cbiAgICAgICAgICAgICAgICAgICAgKT8uYmFsYW5jZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuSW5BY3Rpb24oKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEdldCBuZXcgY3VycmVudCBhY2NvdW50XG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLnVpLmlzX3RvcF91cF92aXJ0dWFsX29wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfYWNjb3VudC5iYWxhbmNlID0gbmV3X2JhbGFuY2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJ1bkluQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLnVpLmlzX3RvcF91cF92aXJ0dWFsX3N1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMjUwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUudWkuc2V0VG9wVXBJblByb2dyZXNzKGZhbHNlKTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgY2xvc2VDRkRQZW5kaW5nRGlhbG9nKCkge1xuICAgICAgICB0aGlzLmlzX2NmZF9wZW5kaW5nX2RpYWxvZ19vcGVuID0gZmFsc2U7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG9wZW5QZW5kaW5nRGlhbG9nKCkge1xuICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgcnVuSW5BY3Rpb24oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNfY2ZkX3BlbmRpbmdfZGlhbG9nX29wZW4gPSB0cnVlO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAzMDBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2VuZFZlcmlmeUVtYWlsKCkge1xuICAgICAgICByZXR1cm4gV1MudmVyaWZ5RW1haWwodGhpcy5yb290X3N0b3JlLmNsaWVudC5lbWFpbCwgJ3RyYWRpbmdfcGxhdGZvcm1faW52ZXN0b3JfcGFzc3dvcmRfcmVzZXQnKTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2V0Q0ZEUGFzc3dvcmRSZXNldE1vZGFsKHZhbCkge1xuICAgICAgICB0aGlzLmlzX2NmZF9yZXNldF9wYXNzd29yZF9tb2RhbF9lbmFibGVkID0gISF2YWw7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGNoYW5nZVBhc3N3b3JkKHsgbG9naW4sIG9sZF9wYXNzd29yZCwgbmV3X3Bhc3N3b3JkLCBwYXNzd29yZF90eXBlIH0pIHtcbiAgICAgICAgbGV0IHJlc3BvbnNlO1xuXG4gICAgICAgIGlmIChwYXNzd29yZF90eXBlID09PSAnaW52ZXN0b3InKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IFdTLmF1dGhvcml6ZWQudHJhZGluZ1BsYXRmb3JtSW52ZXN0b3JQYXNzd29yZENoYW5nZSh7XG4gICAgICAgICAgICAgICAgYWNjb3VudF9pZDogbG9naW4sXG4gICAgICAgICAgICAgICAgb2xkX3Bhc3N3b3JkLFxuICAgICAgICAgICAgICAgIG5ld19wYXNzd29yZCxcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybTogQ0ZEX1BMQVRGT1JNUy5NVDUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgV1MuYXV0aG9yaXplZC50cmFkaW5nUGxhdGZvcm1QYXNzd29yZENoYW5nZSh7XG4gICAgICAgICAgICAgICAgYWNjb3VudF9pZDogbG9naW4sXG4gICAgICAgICAgICAgICAgb2xkX3Bhc3N3b3JkLFxuICAgICAgICAgICAgICAgIG5ld19wYXNzd29yZCxcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybTogQ0ZEX1BMQVRGT1JNUy5NVDUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZT8uZXJyb3I/Lm1lc3NhZ2U7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImFjdGlvbiIsImNvbXB1dGVkIiwib2JzZXJ2YWJsZSIsInJ1bkluQWN0aW9uIiwiZ2V0QWNjb3VudExpc3RLZXkiLCJnZXRBY2NvdW50VHlwZUZpZWxkcyIsIkNGRF9QTEFURk9STVMiLCJXUyIsIkJhc2VTdG9yZSIsImdldER4Q29tcGFuaWVzIiwiZ2V0TXRDb21wYW5pZXMiLCJDRkRTdG9yZSIsImJvdW5kIiwicm9vdF9zdG9yZSIsImN1cnJlbnRfbGlzdCIsImxlbmd0aCIsImFjY291bnRfdHlwZSIsImNhdGVnb3J5IiwiY2xpZW50IiwiaXNfZXUiLCJ0eXBlIiwidGl0bGUiLCJsaXN0IiwibXQ1X2xvZ2luX2xpc3QiLCJmb3JFYWNoIiwiYWNjb3VudCIsIk1UNSIsImR4dHJhZGVfYWNjb3VudHNfbGlzdCIsIkRYVFJBREUiLCJjaGVja1Nob3VsZE9wZW5BY2NvdW50Iiwib25SZWFsQWNjb3VudFNpZ251cEVuZCIsInJlYWxBY2NvdW50U2lnbnVwRW5kTGlzdGVuZXIiLCJ1aSIsImlzX2NmZF9wYWdlIiwiZGlzcG9zZVJlYWxBY2NvdW50U2lnbnVwRW5kIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwic3BsaXQiLCJzZXRfcGFzc3dvcmQiLCJjcmVhdGVDRkRBY2NvdW50IiwicmVtb3ZlSXRlbSIsInBvc3Rfc2lnbnVwIiwiSlNPTiIsInBhcnNlIiwiZW5hYmxlQ0ZEUGFzc3dvcmRNb2RhbCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZXJyb3JfbWVzc2FnZSIsImVycm9yX3R5cGUiLCJ1bmRlZmluZWQiLCJoYXNfY2ZkX2Vycm9yIiwicmVzZXRGb3JtRXJyb3JzIiwiaXNfY2ZkX3Bhc3N3b3JkX21vZGFsX2VuYWJsZWQiLCJjbGVhckNGREVycm9yIiwic2V0QWNjb3VudFR5cGUiLCJyZWFsQ0ZEU2lnbnVwIiwiZGVtb0NGRFNpZ251cCIsImFjY291bnRfc2V0dGluZ3MiLCJmaXJzdF9uYW1lIiwibXQ1X2NvbXBhbmllcyIsImpvaW4iLCJ2YWx1ZXMiLCJuYW1lIiwiZ2V0TmFtZSIsImxldmVyYWdlIiwidHlwZV9yZXF1ZXN0IiwibXQ1TmV3QWNjb3VudCIsIm1haW5QYXNzd29yZCIsInBhc3N3b3JkIiwiZW1haWwiLCJlbWFpbF9hZGRyZXNzIiwic2VydmVyIiwidHJhZGluZ1BsYXRmb3JtTmV3QWNjb3VudCIsInBsYXRmb3JtIiwibWFya2V0X3R5cGUiLCJzZXRJdGVtIiwic3RyaW5naWZ5Iiwib3BlblJlYWxBY2NvdW50U2lnbnVwIiwiZmV0Y2hSZXNpZGVuY2VMaXN0IiwiZmV0Y2hTdGF0ZXNMaXN0IiwiZmV0Y2hBY2NvdW50U2V0dGluZ3MiLCJlbmFibGVNdDVGaW5hbmNpYWxTdHBNb2RhbCIsIkVycm9yIiwiaXNfbXQ1X2ZpbmFuY2lhbF9zdHBfbW9kYWxfb3BlbiIsImRhdGEiLCJtZXRhIiwiY3VycmVudF9hY2NvdW50Iiwic3RhdGUiLCJvYmoiLCJtZXNzYWdlIiwiY29kZSIsImNmZF9uZXdfYWNjb3VudCIsIm5ld19hY2NvdW50X3Jlc3BvbnNlIiwidmFsdWUiLCJpc19jZmRfc3VjY2Vzc19kaWFsb2dfZW5hYmxlZCIsImZpbGVfdXBsb2FkZXJfcmVmIiwic2V0U3RhdHVzIiwicmVqZWN0IiwibXNnIiwic2V0U3RhdGUiLCJpc19idG5fbG9hZGluZyIsInNldFNldHRpbmdzIiwidGhlbiIsImVycm9yIiwiY3VycmVudCIsInVwbG9hZCIsImFwaV9yZXNwb25zZSIsIndhcm5pbmciLCJhdXRob3JpemVkIiwic3RvcmFnZSIsImdldEFjY291bnRTdGF0dXMiLCJnZXRfYWNjb3VudF9zdGF0dXMiLCJpZGVudGl0eSIsImF1dGhlbnRpY2F0aW9uIiwiaGFzX3BvaSIsInN0YXR1cyIsInNob3VsZF9sb2FkX2FjY291bnRfc3RhdHVzIiwiaXNfbXQ1X3Bhc3N3b3JkX25vdF9zZXQiLCJpc19keHRyYWRlX3Bhc3N3b3JkX25vdF9zZXQiLCJhY3Rpb25zIiwidHJhZGluZ1BsYXRmb3JtUGFzc3dvcmRDaGFuZ2UiLCJuZXdfcGFzc3dvcmQiLCJyZXNwb25zZSIsInNldEVycm9yIiwicmVzZXRGb3JtIiwic2V0U3VibWl0dGluZyIsInN1Y2Nlc3MiLCJjcmVhdE1UNVBhc3N3b3JkIiwiaGFzX2Vycm9yIiwib3Blbk1UNUFjY291bnQiLCJzZXRDRkRTdWNjZXNzRGlhbG9nIiwibXQ1TG9naW5MaXN0IiwibXQ1X2xvZ2luX2xpc3RfcmVzcG9uc2UiLCJyZXNwb25zZU10NUxvZ2luTGlzdCIsInRyYW5zZmVyQmV0d2VlbkFjY291bnRzIiwidHJhZGluZ1NlcnZlcnMiLCJyZXNwb25zZVRyYWRpbmdTZXJ2ZXJzIiwic2V0Q0ZETmV3QWNjb3VudCIsIm10NV9uZXdfYWNjb3VudCIsImNyZWF0ZUNGRFBhc3N3b3JkIiwib3BlbkNGREFjY291bnQiLCJ0cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QiLCJ0cmFkaW5nX3BsYXRmb3JtX2FjY291bnRzX2xpc3RfcmVzcG9uc2UiLCJyZXNwb25zZVRyYWRpbmdQbGF0Zm9ybUFjY291bnRzTGlzdCIsInRyYWRpbmdfcGxhdGZvcm1fbmV3X2FjY291bnQiLCJpc19jb21wYXJlX2FjY291bnRzX3Zpc2libGUiLCJzZXRUb3BVcEluUHJvZ3Jlc3MiLCJzZW5kIiwidHJhZGluZ19wbGF0Zm9ybV9kZXBvc2l0IiwidG9fYWNjb3VudCIsImFjY291bnRfaWQiLCJtdDVEZXBvc2l0IiwidG9fbXQ1IiwibG9naW4iLCJuZXdfYmFsYW5jZSIsImZpbmQiLCJpdGVtIiwiYmFsYW5jZSIsImlzX3RvcF91cF92aXJ0dWFsX29wZW4iLCJzZXRUaW1lb3V0IiwiaXNfdG9wX3VwX3ZpcnR1YWxfc3VjY2VzcyIsImNvbnNvbGUiLCJpc19jZmRfcGVuZGluZ19kaWFsb2dfb3BlbiIsInZlcmlmeUVtYWlsIiwidmFsIiwiaXNfY2ZkX3Jlc2V0X3Bhc3N3b3JkX21vZGFsX2VuYWJsZWQiLCJvbGRfcGFzc3dvcmQiLCJwYXNzd29yZF90eXBlIiwidHJhZGluZ1BsYXRmb3JtSW52ZXN0b3JQYXNzd29yZENoYW5nZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Stores/Modules/CFD/cfd-store.js\n");

/***/ }),

/***/ "./Stores/base-store.js":
/*!******************************!*\
  !*** ./Stores/base-store.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var Utils_Validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Utils/Validator */ \"./Utils/Validator/index.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _class, _descriptor, _descriptor2, _descriptor3, _class2, _temp;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n/**\n * BaseStore class is the base class for all defined stores in the application. It handles some stuff such as:\n *  1. Creating snapshot object from the store.\n *  2. Saving the store's snapshot in local/session storage and keeping them in sync.\n */\n\nvar BaseStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec11 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec12 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec13 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec14 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec15 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec16 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, (_class = (_temp = _class2 = /*#__PURE__*/function () {\n  /**\n   * An enum object to define LOCAL_STORAGE and SESSION_STORAGE\n   */\n\n  /**\n   * Constructor of the base class that gets properties' name of child which should be saved in storages\n   *\n   * @param {Object} options - An object that contains the following properties:\n   *     @property {Object}   root_store - An object that contains the root store of the app.\n   *     @property {String[]} local_storage_properties - A list of properties' names that should be kept in localStorage.\n   *     @property {String[]} session_storage_properties - A list of properties' names that should be kept in sessionStorage.\n   *     @property {Object}   validation_rules - An object that contains the validation rules for each property of the store.\n   *     @property {String}   store_name - Explicit store name for browser application storage (to bypass minification)\n   */\n  function BaseStore() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, BaseStore);\n\n    _initializerDefineProperty(this, \"validation_errors\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"validation_rules\", _descriptor2, this);\n\n    this.preSwitchAccountDisposer = null;\n    this.pre_switch_account_listener = null;\n    this.switchAccountDisposer = null;\n    this.switch_account_listener = null;\n    this.logoutDisposer = null;\n    this.logout_listener = null;\n    this.clientInitDisposer = null;\n    this.client_init_listener = null;\n    this.networkStatusChangeDisposer = null;\n    this.network_status_change_listener = null;\n    this.themeChangeDisposer = null;\n    this.theme_change_listener = null;\n    this.realAccountSignupEndedDisposer = null;\n    this.real_account_signup_ended_listener = null;\n\n    _initializerDefineProperty(this, \"partial_fetch_time\", _descriptor3, this);\n\n    var root_store = options.root_store,\n        local_storage_properties = options.local_storage_properties,\n        session_storage_properties = options.session_storage_properties,\n        validation_rules = options.validation_rules,\n        store_name = options.store_name;\n    Object.defineProperty(this, 'root_store', {\n      enumerable: false,\n      writable: true\n    });\n    Object.defineProperty(this, 'local_storage_properties', {\n      enumerable: false,\n      writable: true\n    });\n    Object.defineProperty(this, 'session_storage_properties', {\n      enumerable: false,\n      writable: true\n    });\n    var has_local_or_session_storage = local_storage_properties && local_storage_properties.length || session_storage_properties && session_storage_properties.length;\n\n    if (has_local_or_session_storage) {\n      if (!store_name) {\n        throw new Error('store_name is required for local/session storage');\n      }\n\n      Object.defineProperty(this, 'store_name', {\n        value: store_name,\n        enumerable: false,\n        writable: false\n      });\n    }\n\n    this.root_store = root_store;\n    this.local_storage_properties = local_storage_properties || [];\n    this.session_storage_properties = session_storage_properties || [];\n    this.setValidationRules(validation_rules);\n    this.setupReactionForLocalStorage();\n    this.setupReactionForSessionStorage();\n    this.retrieveFromStorage();\n  }\n  /**\n   * Returns an snapshot of the current store\n   *\n   * @param {String[]} properties - A list of properties' names that should be in the snapshot.\n   *\n   * @return {Object} Returns a cloned object of the store.\n   */\n\n\n  _createClass(BaseStore, [{\n    key: \"getSnapshot\",\n    value: function getSnapshot(properties) {\n      var snapshot = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.toJS)(this);\n\n      if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(this.root_store)) {\n        snapshot.root_store = this.root_store;\n      }\n\n      if (properties && properties.length) {\n        snapshot = properties.reduce(function (result, p) {\n          return Object.assign(result, _defineProperty({}, p, snapshot[p]));\n        }, {});\n      }\n\n      return snapshot;\n    }\n    /**\n     * Sets up a reaction on properties which are mentioned in `local_storage_properties`\n     *  and invokes `saveToStorage` when there are any changes on them.\n     *\n     */\n\n  }, {\n    key: \"setupReactionForLocalStorage\",\n    value: function setupReactionForLocalStorage() {\n      var _this = this;\n\n      if (this.local_storage_properties.length) {\n        (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n          return _this.local_storage_properties.map(function (i) {\n            return _this[i];\n          });\n        }, function () {\n          return _this.saveToStorage(_this.local_storage_properties, BaseStore.STORAGES.LOCAL_STORAGE);\n        });\n      }\n    }\n    /**\n     * Sets up a reaction on properties which are mentioned in `session_storage_properties`\n     *  and invokes `saveToStorage` when there are any changes on them.\n     *\n     */\n\n  }, {\n    key: \"setupReactionForSessionStorage\",\n    value: function setupReactionForSessionStorage() {\n      var _this2 = this;\n\n      if (this.session_storage_properties.length) {\n        (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n          return _this2.session_storage_properties.map(function (i) {\n            return _this2[i];\n          });\n        }, function () {\n          return _this2.saveToStorage(_this2.session_storage_properties, BaseStore.STORAGES.SESSION_STORAGE);\n        });\n      }\n    }\n    /**\n     * Removes properties that are not passed from the snapshot of the store and saves it to the passed storage\n     *\n     * @param {String[]} properties - A list of the store's properties' names which should be saved in the storage.\n     * @param {Symbol}   storage    - A symbol object that defines the storage which the snapshot should be stored in it.\n     *\n     */\n\n  }, {\n    key: \"saveToStorage\",\n    value: function saveToStorage(properties, storage) {\n      var snapshot = JSON.stringify(this.getSnapshot(properties), function (key, value) {\n        if (value !== null) return value;\n        return undefined;\n      });\n\n      if (storage === BaseStore.STORAGES.LOCAL_STORAGE) {\n        localStorage.setItem(this.store_name, snapshot);\n      } else if (storage === BaseStore.STORAGES.SESSION_STORAGE) {\n        sessionStorage.setItem(this.store_name, snapshot);\n      }\n    }\n    /**\n     * Retrieves saved snapshot of the store and assigns to the current instance.\n     *\n     */\n\n  }, {\n    key: \"retrieveFromStorage\",\n    value: function retrieveFromStorage() {\n      var _this3 = this;\n\n      var local_storage_snapshot = JSON.parse(localStorage.getItem(this.store_name, {}));\n      var session_storage_snapshot = JSON.parse(sessionStorage.getItem(this.store_name, {}));\n\n      var snapshot = _objectSpread(_objectSpread({}, local_storage_snapshot), session_storage_snapshot);\n\n      Object.keys(snapshot).forEach(function (k) {\n        return _this3[k] = snapshot[k];\n      });\n    }\n    /**\n     * Sets validation error messages for an observable property of the store\n     *\n     * @param {String} propertyName - The observable property's name\n     * @param [{String}] messages - An array of strings that contains validation error messages for the particular property.\n     *\n     */\n\n  }, {\n    key: \"setValidationErrorMessages\",\n    value: function setValidationErrorMessages(propertyName, messages) {\n      var _this4 = this;\n\n      var is_different = function is_different() {\n        return !!_this4.validation_errors[propertyName].filter(function (x) {\n          return !messages.includes(x);\n        }).concat(messages.filter(function (x) {\n          return !_this4.validation_errors[propertyName].includes(x);\n        })).length;\n      };\n\n      if (!this.validation_errors[propertyName] || is_different()) {\n        this.validation_errors[propertyName] = messages;\n      }\n    }\n    /**\n     * Sets validation rules\n     *\n     * @param {object} rules\n     *\n     */\n\n  }, {\n    key: \"setValidationRules\",\n    value: function setValidationRules() {\n      var _this5 = this;\n\n      var rules = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.keys(rules).forEach(function (key) {\n        _this5.addRule(key, rules[key]);\n      });\n    }\n    /**\n     * Adds rules to the particular property\n     *\n     * @param {String} property\n     * @param {String} rules\n     *\n     */\n\n  }, {\n    key: \"addRule\",\n    value: function addRule(property, rules) {\n      var _this6 = this;\n\n      this.validation_rules[property] = rules;\n      (0,mobx__WEBPACK_IMPORTED_MODULE_0__.intercept)(this, property, function (change) {\n        _this6.validateProperty(property, change.newValue);\n\n        return change;\n      });\n    }\n    /**\n     * Validates a particular property of the store\n     *\n     * @param {String} property - The name of the property in the store\n     * @param {object} value    - The value of the property, it can be undefined.\n     *\n     */\n\n  }, {\n    key: \"validateProperty\",\n    value: function validateProperty(property, value) {\n      var _this7 = this;\n\n      var trigger = this.validation_rules[property].trigger;\n\n      var inputs = _defineProperty({}, property, value !== undefined ? value : this[property]);\n\n      var validation_rules = _defineProperty({}, property, this.validation_rules[property].rules || []);\n\n      if (!!trigger && Object.hasOwnProperty.call(this, trigger)) {\n        inputs[trigger] = this[trigger];\n        validation_rules[trigger] = this.validation_rules[trigger].rules || [];\n      }\n\n      var validator = new Utils_Validator__WEBPACK_IMPORTED_MODULE_2__.default(inputs, validation_rules, this);\n      validator.isPassed();\n      Object.keys(inputs).forEach(function (key) {\n        _this7.setValidationErrorMessages(key, validator.errors.get(key));\n      });\n    }\n    /**\n     * Validates all properties which validation rule has been set for.\n     *\n     */\n\n  }, {\n    key: \"validateAllProperties\",\n    value: function validateAllProperties() {\n      var _this8 = this;\n\n      var validation_rules = Object.keys(this.validation_rules);\n      var validation_errors = Object.keys(this.validation_errors);\n      validation_rules.forEach(function (p) {\n        _this8.validateProperty(p, _this8[p]);\n      }); // Remove keys that are present in error, but not in rules:\n\n      validation_errors.forEach(function (error) {\n        if (!validation_rules.includes(error)) {\n          delete _this8.validation_errors[error];\n        }\n      });\n    }\n  }, {\n    key: \"onSwitchAccount\",\n    value: function onSwitchAccount(listener) {\n      var _this9 = this;\n\n      if (listener) {\n        this.switch_account_listener = listener;\n        this.switchAccountDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n          return _this9.root_store.client.switch_broadcast;\n        }, function () {\n          try {\n            var result = _this9.switch_account_listener();\n\n            if (result && result.then && typeof result.then === 'function') {\n              result.then(function () {\n                _this9.root_store.client.switchEndSignal();\n\n                _this9.onSwitchAccount(_this9.switch_account_listener);\n              });\n            } else {\n              throw new Error('Switching account listeners are required to return a promise.');\n            }\n          } catch (error) {\n            // there is no listener currently active. so we can just ignore the error raised from treating\n            // a null object as a function. Although, in development mode, we throw a console error.\n            if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n              console.error(error); // eslint-disable-line\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onPreSwitchAccount\",\n    value: function onPreSwitchAccount(listener) {\n      var _this10 = this;\n\n      if (listener) {\n        this.pre_switch_account_listener = listener;\n        this.preSwitchAccountDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n          return _this10.root_store.client.pre_switch_broadcast;\n        }, function () {\n          try {\n            var result = _this10.pre_switch_account_listener();\n\n            if (result && result.then && typeof result.then === 'function') {\n              result.then(function () {\n                _this10.root_store.client.setPreSwitchAccount(false);\n\n                _this10.onPreSwitchAccount(_this10.pre_switch_account_listener);\n              });\n            } else {\n              throw new Error('Pre-switch account listeners are required to return a promise.');\n            }\n          } catch (error) {\n            // there is no listener currently active. so we can just ignore the error raised from treating\n            // a null object as a function. Although, in development mode, we throw a console error.\n            if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n              console.error(error); // eslint-disable-line\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onLogout\",\n    value: function onLogout(listener) {\n      var _this11 = this;\n\n      this.logoutDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        return _this11.root_store.client.has_logged_out;\n      }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                result = _this11.logout_listener();\n\n                if (!(result && result.then && typeof result.then === 'function')) {\n                  _context.next = 6;\n                  break;\n                }\n\n                result.then(function () {\n                  _this11.root_store.client.setLogout(false);\n\n                  _this11.onLogout(_this11.logout_listener);\n                });\n                _context.next = 7;\n                break;\n\n              case 6:\n                throw new Error('Logout listeners are required to return a promise.');\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n\n                // there is no listener currently active. so we can just ignore the error raised from treating\n                // a null object as a function. Although, in development mode, we throw a console error.\n                if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n                  console.error(_context.t0); // eslint-disable-line\n                }\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 9]]);\n      })));\n      this.logout_listener = listener;\n    }\n  }, {\n    key: \"onClientInit\",\n    value: function onClientInit(listener) {\n      var _this12 = this;\n\n      this.clientInitDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        return _this12.root_store.client.initialized_broadcast;\n      }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                result = _this12.client_init_listener();\n\n                if (!(result && result.then && typeof result.then === 'function')) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                result.then(function () {\n                  _this12.root_store.client.setInitialized(false);\n\n                  _this12.onClientInit(_this12.client_init_listener);\n                });\n                _context2.next = 7;\n                break;\n\n              case 6:\n                throw new Error('Client init listeners are required to return a promise.');\n\n              case 7:\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                // there is no listener currently active. so we can just ignore the error raised from treating\n                // a null object as a function. Although, in development mode, we throw a console error.\n                if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n                  console.error(_context2.t0); // eslint-disable-line\n                }\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 9]]);\n      })));\n      this.client_init_listener = listener;\n    }\n  }, {\n    key: \"onNetworkStatusChange\",\n    value: function onNetworkStatusChange(listener) {\n      var _this13 = this;\n\n      this.networkStatusChangeDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this13.root_store.common.is_network_online;\n      }, function (is_online) {\n        try {\n          _this13.network_status_change_listener(is_online);\n        } catch (error) {\n          // there is no listener currently active. so we can just ignore the error raised from treating\n          // a null object as a function. Although, in development mode, we throw a console error.\n          if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n            console.error(error); // eslint-disable-line\n          }\n        }\n      });\n      this.network_status_change_listener = listener;\n    }\n  }, {\n    key: \"onThemeChange\",\n    value: function onThemeChange(listener) {\n      var _this14 = this;\n\n      this.themeChangeDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this14.root_store.ui.is_dark_mode_on;\n      }, function (is_dark_mode_on) {\n        try {\n          _this14.theme_change_listener(is_dark_mode_on);\n        } catch (error) {\n          // there is no listener currently active. so we can just ignore the error raised from treating\n          // a null object as a function. Although, in development mode, we throw a console error.\n          if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n            console.error(error); // eslint-disable-line\n          }\n        }\n      });\n      this.theme_change_listener = listener;\n    }\n  }, {\n    key: \"onRealAccountSignupEnd\",\n    value: function onRealAccountSignupEnd(listener) {\n      var _this15 = this;\n\n      this.realAccountSignupEndedDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        return _this15.root_store.ui.has_real_account_signup_ended;\n      }, function () {\n        try {\n          var result = _this15.real_account_signup_ended_listener();\n\n          if (result && result.then && typeof result.then === 'function') {\n            result.then(function () {\n              _this15.root_store.ui.setRealAccountSignupEnd(false);\n\n              _this15.onRealAccountSignupEnd(_this15.real_account_signup_ended_listener);\n            });\n          } else {\n            throw new Error('Real account signup listeners are required to return a promise.');\n          }\n        } catch (error) {\n          // there is no listener currently active. so we can just ignore the error raised from treating\n          // a null object as a function. Although, in development mode, we throw a console error.\n          if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n            console.error(error); // eslint-disable-line\n          }\n        }\n      });\n      this.real_account_signup_ended_listener = listener;\n    }\n  }, {\n    key: \"disposePreSwitchAccount\",\n    value: function disposePreSwitchAccount() {\n      if (typeof this.preSwitchAccountDisposer === 'function') {\n        this.preSwitchAccountDisposer();\n      }\n\n      this.pre_switch_account_listener = null;\n    }\n  }, {\n    key: \"disposeSwitchAccount\",\n    value: function disposeSwitchAccount() {\n      if (typeof this.switchAccountDisposer === 'function') {\n        this.switchAccountDisposer();\n      }\n\n      this.switch_account_listener = null;\n    }\n  }, {\n    key: \"disposeLogout\",\n    value: function disposeLogout() {\n      if (typeof this.logoutDisposer === 'function') {\n        this.logoutDisposer();\n      }\n\n      this.logout_listener = null;\n    }\n  }, {\n    key: \"disposeClientInit\",\n    value: function disposeClientInit() {\n      if (typeof this.clientInitDisposer === 'function') {\n        this.clientInitDisposer();\n      }\n\n      this.client_init_listener = null;\n    }\n  }, {\n    key: \"disposeNetworkStatusChange\",\n    value: function disposeNetworkStatusChange() {\n      if (typeof this.networkStatusChangeDisposer === 'function') {\n        this.networkStatusChangeDisposer();\n      }\n\n      this.network_status_change_listener = null;\n    }\n  }, {\n    key: \"disposeThemeChange\",\n    value: function disposeThemeChange() {\n      if (typeof this.themeChangeDisposer === 'function') {\n        this.themeChangeDisposer();\n      }\n\n      this.theme_change_listener = null;\n    }\n  }, {\n    key: \"disposeRealAccountSignupEnd\",\n    value: function disposeRealAccountSignupEnd() {\n      if (typeof this.realAccountSignupEndedDisposer === 'function') {\n        this.realAccountSignupEndedDisposer();\n      }\n\n      this.real_account_signup_ended_listener = null;\n    }\n  }, {\n    key: \"onUnmount\",\n    value: function onUnmount() {\n      this.disposePreSwitchAccount();\n      this.disposeSwitchAccount();\n      this.disposeLogout();\n      this.disposeClientInit();\n      this.disposeNetworkStatusChange();\n      this.disposeThemeChange();\n      this.disposeRealAccountSignupEnd();\n    }\n  }, {\n    key: \"assertHasValidCache\",\n    value: function assertHasValidCache(loginid) {\n      // account was changed when this was unmounted.\n      if (this.root_store.client.loginid !== loginid) {\n        for (var _len = arguments.length, reactions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          reactions[_key - 1] = arguments[_key];\n        }\n\n        reactions.forEach(function (act) {\n          return act();\n        });\n        this.partial_fetch_time = false;\n      }\n    }\n  }]);\n\n  return BaseStore;\n}(), _class2.STORAGES = Object.freeze({\n  LOCAL_STORAGE: Symbol('LOCAL_STORAGE'),\n  SESSION_STORAGE: Symbol('SESSION_STORAGE')\n}), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"validation_errors\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"validation_rules\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"partial_fetch_time\", [mobx__WEBPACK_IMPORTED_MODULE_0__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"retrieveFromStorage\", [mobx__WEBPACK_IMPORTED_MODULE_0__.action], Object.getOwnPropertyDescriptor(_class.prototype, \"retrieveFromStorage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setValidationErrorMessages\", [mobx__WEBPACK_IMPORTED_MODULE_0__.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setValidationErrorMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setValidationRules\", [mobx__WEBPACK_IMPORTED_MODULE_0__.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setValidationRules\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addRule\", [mobx__WEBPACK_IMPORTED_MODULE_0__.action], Object.getOwnPropertyDescriptor(_class.prototype, \"addRule\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"validateProperty\", [mobx__WEBPACK_IMPORTED_MODULE_0__.action], Object.getOwnPropertyDescriptor(_class.prototype, \"validateProperty\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"validateAllProperties\", [mobx__WEBPACK_IMPORTED_MODULE_0__.action], Object.getOwnPropertyDescriptor(_class.prototype, \"validateAllProperties\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSwitchAccount\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onSwitchAccount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onPreSwitchAccount\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onPreSwitchAccount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onLogout\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onLogout\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onClientInit\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"onClientInit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onNetworkStatusChange\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"onNetworkStatusChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onThemeChange\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"onThemeChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onRealAccountSignupEnd\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"onRealAccountSignupEnd\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disposePreSwitchAccount\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"disposePreSwitchAccount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disposeSwitchAccount\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"disposeSwitchAccount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disposeLogout\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"disposeLogout\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disposeClientInit\", [_dec11], Object.getOwnPropertyDescriptor(_class.prototype, \"disposeClientInit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disposeNetworkStatusChange\", [_dec12], Object.getOwnPropertyDescriptor(_class.prototype, \"disposeNetworkStatusChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disposeThemeChange\", [_dec13], Object.getOwnPropertyDescriptor(_class.prototype, \"disposeThemeChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disposeRealAccountSignupEnd\", [_dec14], Object.getOwnPropertyDescriptor(_class.prototype, \"disposeRealAccountSignupEnd\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onUnmount\", [_dec15], Object.getOwnPropertyDescriptor(_class.prototype, \"onUnmount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"assertHasValidCache\", [_dec16], Object.getOwnPropertyDescriptor(_class.prototype, \"assertHasValidCache\"), _class.prototype)), _class));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvYmFzZS1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQW1DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUNBOztBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUhBOztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTs7QUFGQTtBQUFBO0FBQUE7QUFBQTs7QUFJQTtBQUNBOztBQUNBO0FBQ0E7QUFQQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQWhCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW9CQTtBQUNBOzs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBOztBQUZBO0FBQUE7QUFBQTtBQUFBOztBQUlBO0FBQ0E7O0FBQ0E7QUFDQTtBQVBBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBaEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBb0JBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBOzs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFGQTtBQUVBOztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7OztBQTlnQkE7QUFDQTtBQUNBO0FBRkE7Ozs7O0FBTUE7O0FBRUE7Ozs7O0FBQ0E7O0FBdUJBOzs7OztBQUFBOztBQXFJQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi90cmFkZXIvLi9TdG9yZXMvYmFzZS1zdG9yZS5qcz9jNGExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjdGlvbiwgaW50ZXJjZXB0LCBvYnNlcnZhYmxlLCByZWFjdGlvbiwgdG9KUywgd2hlbiB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgaXNQcm9kdWN0aW9uLCBpc0VtcHR5T2JqZWN0IH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5cbmltcG9ydCBWYWxpZGF0b3IgZnJvbSAnVXRpbHMvVmFsaWRhdG9yJztcblxuLyoqXG4gKiBCYXNlU3RvcmUgY2xhc3MgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBkZWZpbmVkIHN0b3JlcyBpbiB0aGUgYXBwbGljYXRpb24uIEl0IGhhbmRsZXMgc29tZSBzdHVmZiBzdWNoIGFzOlxuICogIDEuIENyZWF0aW5nIHNuYXBzaG90IG9iamVjdCBmcm9tIHRoZSBzdG9yZS5cbiAqICAyLiBTYXZpbmcgdGhlIHN0b3JlJ3Mgc25hcHNob3QgaW4gbG9jYWwvc2Vzc2lvbiBzdG9yYWdlIGFuZCBrZWVwaW5nIHRoZW0gaW4gc3luYy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVN0b3JlIHtcbiAgICAvKipcbiAgICAgKiBBbiBlbnVtIG9iamVjdCB0byBkZWZpbmUgTE9DQUxfU1RPUkFHRSBhbmQgU0VTU0lPTl9TVE9SQUdFXG4gICAgICovXG4gICAgc3RhdGljIFNUT1JBR0VTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIExPQ0FMX1NUT1JBR0U6IFN5bWJvbCgnTE9DQUxfU1RPUkFHRScpLFxuICAgICAgICBTRVNTSU9OX1NUT1JBR0U6IFN5bWJvbCgnU0VTU0lPTl9TVE9SQUdFJyksXG4gICAgfSk7XG5cbiAgICBAb2JzZXJ2YWJsZVxuICAgIHZhbGlkYXRpb25fZXJyb3JzID0ge307XG5cbiAgICBAb2JzZXJ2YWJsZVxuICAgIHZhbGlkYXRpb25fcnVsZXMgPSB7fTtcblxuICAgIHByZVN3aXRjaEFjY291bnREaXNwb3NlciA9IG51bGw7XG4gICAgcHJlX3N3aXRjaF9hY2NvdW50X2xpc3RlbmVyID0gbnVsbDtcblxuICAgIHN3aXRjaEFjY291bnREaXNwb3NlciA9IG51bGw7XG4gICAgc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBudWxsO1xuXG4gICAgbG9nb3V0RGlzcG9zZXIgPSBudWxsO1xuICAgIGxvZ291dF9saXN0ZW5lciA9IG51bGw7XG5cbiAgICBjbGllbnRJbml0RGlzcG9zZXIgPSBudWxsO1xuICAgIGNsaWVudF9pbml0X2xpc3RlbmVyID0gbnVsbDtcblxuICAgIG5ldHdvcmtTdGF0dXNDaGFuZ2VEaXNwb3NlciA9IG51bGw7XG4gICAgbmV0d29ya19zdGF0dXNfY2hhbmdlX2xpc3RlbmVyID0gbnVsbDtcblxuICAgIHRoZW1lQ2hhbmdlRGlzcG9zZXIgPSBudWxsO1xuICAgIHRoZW1lX2NoYW5nZV9saXN0ZW5lciA9IG51bGw7XG5cbiAgICByZWFsQWNjb3VudFNpZ251cEVuZGVkRGlzcG9zZXIgPSBudWxsO1xuICAgIHJlYWxfYWNjb3VudF9zaWdudXBfZW5kZWRfbGlzdGVuZXIgPSBudWxsO1xuXG4gICAgQG9ic2VydmFibGUgcGFydGlhbF9mZXRjaF90aW1lID0gMDtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIG9mIHRoZSBiYXNlIGNsYXNzIHRoYXQgZ2V0cyBwcm9wZXJ0aWVzJyBuYW1lIG9mIGNoaWxkIHdoaWNoIHNob3VsZCBiZSBzYXZlZCBpbiBzdG9yYWdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICogICAgIEBwcm9wZXJ0eSB7T2JqZWN0fSAgIHJvb3Rfc3RvcmUgLSBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgcm9vdCBzdG9yZSBvZiB0aGUgYXBwLlxuICAgICAqICAgICBAcHJvcGVydHkge1N0cmluZ1tdfSBsb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMgLSBBIGxpc3Qgb2YgcHJvcGVydGllcycgbmFtZXMgdGhhdCBzaG91bGQgYmUga2VwdCBpbiBsb2NhbFN0b3JhZ2UuXG4gICAgICogICAgIEBwcm9wZXJ0eSB7U3RyaW5nW119IHNlc3Npb25fc3RvcmFnZV9wcm9wZXJ0aWVzIC0gQSBsaXN0IG9mIHByb3BlcnRpZXMnIG5hbWVzIHRoYXQgc2hvdWxkIGJlIGtlcHQgaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgICogICAgIEBwcm9wZXJ0eSB7T2JqZWN0fSAgIHZhbGlkYXRpb25fcnVsZXMgLSBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgdmFsaWRhdGlvbiBydWxlcyBmb3IgZWFjaCBwcm9wZXJ0eSBvZiB0aGUgc3RvcmUuXG4gICAgICogICAgIEBwcm9wZXJ0eSB7U3RyaW5nfSAgIHN0b3JlX25hbWUgLSBFeHBsaWNpdCBzdG9yZSBuYW1lIGZvciBicm93c2VyIGFwcGxpY2F0aW9uIHN0b3JhZ2UgKHRvIGJ5cGFzcyBtaW5pZmljYXRpb24pXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHJvb3Rfc3RvcmUsXG4gICAgICAgICAgICBsb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMsXG4gICAgICAgICAgICBzZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcyxcbiAgICAgICAgICAgIHZhbGlkYXRpb25fcnVsZXMsXG4gICAgICAgICAgICBzdG9yZV9uYW1lLFxuICAgICAgICB9ID0gb3B0aW9ucztcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jvb3Rfc3RvcmUnLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMnLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcycsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGhhc19sb2NhbF9vcl9zZXNzaW9uX3N0b3JhZ2UgPVxuICAgICAgICAgICAgKGxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcyAmJiBsb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMubGVuZ3RoKSB8fFxuICAgICAgICAgICAgKHNlc3Npb25fc3RvcmFnZV9wcm9wZXJ0aWVzICYmIHNlc3Npb25fc3RvcmFnZV9wcm9wZXJ0aWVzLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKGhhc19sb2NhbF9vcl9zZXNzaW9uX3N0b3JhZ2UpIHtcbiAgICAgICAgICAgIGlmICghc3RvcmVfbmFtZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RvcmVfbmFtZSBpcyByZXF1aXJlZCBmb3IgbG9jYWwvc2Vzc2lvbiBzdG9yYWdlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnc3RvcmVfbmFtZScsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmVfbmFtZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgICAgIHRoaXMubG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzID0gbG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzIHx8IFtdO1xuICAgICAgICB0aGlzLnNlc3Npb25fc3RvcmFnZV9wcm9wZXJ0aWVzID0gc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMgfHwgW107XG4gICAgICAgIHRoaXMuc2V0VmFsaWRhdGlvblJ1bGVzKHZhbGlkYXRpb25fcnVsZXMpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBSZWFjdGlvbkZvckxvY2FsU3RvcmFnZSgpO1xuICAgICAgICB0aGlzLnNldHVwUmVhY3Rpb25Gb3JTZXNzaW9uU3RvcmFnZSgpO1xuICAgICAgICB0aGlzLnJldHJpZXZlRnJvbVN0b3JhZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IHN0b3JlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBwcm9wZXJ0aWVzIC0gQSBsaXN0IG9mIHByb3BlcnRpZXMnIG5hbWVzIHRoYXQgc2hvdWxkIGJlIGluIHRoZSBzbmFwc2hvdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyBhIGNsb25lZCBvYmplY3Qgb2YgdGhlIHN0b3JlLlxuICAgICAqL1xuICAgIGdldFNuYXBzaG90KHByb3BlcnRpZXMpIHtcbiAgICAgICAgbGV0IHNuYXBzaG90ID0gdG9KUyh0aGlzKTtcblxuICAgICAgICBpZiAoIWlzRW1wdHlPYmplY3QodGhpcy5yb290X3N0b3JlKSkge1xuICAgICAgICAgICAgc25hcHNob3Qucm9vdF9zdG9yZSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzICYmIHByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzbmFwc2hvdCA9IHByb3BlcnRpZXMucmVkdWNlKChyZXN1bHQsIHApID0+IE9iamVjdC5hc3NpZ24ocmVzdWx0LCB7IFtwXTogc25hcHNob3RbcF0gfSksIHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIGEgcmVhY3Rpb24gb24gcHJvcGVydGllcyB3aGljaCBhcmUgbWVudGlvbmVkIGluIGBsb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXNgXG4gICAgICogIGFuZCBpbnZva2VzIGBzYXZlVG9TdG9yYWdlYCB3aGVuIHRoZXJlIGFyZSBhbnkgY2hhbmdlcyBvbiB0aGVtLlxuICAgICAqXG4gICAgICovXG4gICAgc2V0dXBSZWFjdGlvbkZvckxvY2FsU3RvcmFnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVhY3Rpb24oXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5sb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMubWFwKGkgPT4gdGhpc1tpXSksXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5zYXZlVG9TdG9yYWdlKHRoaXMubG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzLCBCYXNlU3RvcmUuU1RPUkFHRVMuTE9DQUxfU1RPUkFHRSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIGEgcmVhY3Rpb24gb24gcHJvcGVydGllcyB3aGljaCBhcmUgbWVudGlvbmVkIGluIGBzZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllc2BcbiAgICAgKiAgYW5kIGludm9rZXMgYHNhdmVUb1N0b3JhZ2VgIHdoZW4gdGhlcmUgYXJlIGFueSBjaGFuZ2VzIG9uIHRoZW0uXG4gICAgICpcbiAgICAgKi9cbiAgICBzZXR1cFJlYWN0aW9uRm9yU2Vzc2lvblN0b3JhZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb25fc3RvcmFnZV9wcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVhY3Rpb24oXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5zZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcy5tYXAoaSA9PiB0aGlzW2ldKSxcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLnNhdmVUb1N0b3JhZ2UodGhpcy5zZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcywgQmFzZVN0b3JlLlNUT1JBR0VTLlNFU1NJT05fU1RPUkFHRSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHByb3BlcnRpZXMgdGhhdCBhcmUgbm90IHBhc3NlZCBmcm9tIHRoZSBzbmFwc2hvdCBvZiB0aGUgc3RvcmUgYW5kIHNhdmVzIGl0IHRvIHRoZSBwYXNzZWQgc3RvcmFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmdbXX0gcHJvcGVydGllcyAtIEEgbGlzdCBvZiB0aGUgc3RvcmUncyBwcm9wZXJ0aWVzJyBuYW1lcyB3aGljaCBzaG91bGQgYmUgc2F2ZWQgaW4gdGhlIHN0b3JhZ2UuXG4gICAgICogQHBhcmFtIHtTeW1ib2x9ICAgc3RvcmFnZSAgICAtIEEgc3ltYm9sIG9iamVjdCB0aGF0IGRlZmluZXMgdGhlIHN0b3JhZ2Ugd2hpY2ggdGhlIHNuYXBzaG90IHNob3VsZCBiZSBzdG9yZWQgaW4gaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBzYXZlVG9TdG9yYWdlKHByb3BlcnRpZXMsIHN0b3JhZ2UpIHtcbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFNuYXBzaG90KHByb3BlcnRpZXMpLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc3RvcmFnZSA9PT0gQmFzZVN0b3JlLlNUT1JBR0VTLkxPQ0FMX1NUT1JBR0UpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmVfbmFtZSwgc25hcHNob3QpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0b3JhZ2UgPT09IEJhc2VTdG9yZS5TVE9SQUdFUy5TRVNTSU9OX1NUT1JBR0UpIHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yZV9uYW1lLCBzbmFwc2hvdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgc2F2ZWQgc25hcHNob3Qgb2YgdGhlIHN0b3JlIGFuZCBhc3NpZ25zIHRvIHRoZSBjdXJyZW50IGluc3RhbmNlLlxuICAgICAqXG4gICAgICovXG4gICAgQGFjdGlvblxuICAgIHJldHJpZXZlRnJvbVN0b3JhZ2UoKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsX3N0b3JhZ2Vfc25hcHNob3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmVfbmFtZSwge30pKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbl9zdG9yYWdlX3NuYXBzaG90ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmVfbmFtZSwge30pKTtcblxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IHsgLi4ubG9jYWxfc3RvcmFnZV9zbmFwc2hvdCwgLi4uc2Vzc2lvbl9zdG9yYWdlX3NuYXBzaG90IH07XG5cbiAgICAgICAgT2JqZWN0LmtleXMoc25hcHNob3QpLmZvckVhY2goayA9PiAodGhpc1trXSA9IHNuYXBzaG90W2tdKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWxpZGF0aW9uIGVycm9yIG1lc3NhZ2VzIGZvciBhbiBvYnNlcnZhYmxlIHByb3BlcnR5IG9mIHRoZSBzdG9yZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5TmFtZSAtIFRoZSBvYnNlcnZhYmxlIHByb3BlcnR5J3MgbmFtZVxuICAgICAqIEBwYXJhbSBbe1N0cmluZ31dIG1lc3NhZ2VzIC0gQW4gYXJyYXkgb2Ygc3RyaW5ncyB0aGF0IGNvbnRhaW5zIHZhbGlkYXRpb24gZXJyb3IgbWVzc2FnZXMgZm9yIHRoZSBwYXJ0aWN1bGFyIHByb3BlcnR5LlxuICAgICAqXG4gICAgICovXG4gICAgQGFjdGlvblxuICAgIHNldFZhbGlkYXRpb25FcnJvck1lc3NhZ2VzKHByb3BlcnR5TmFtZSwgbWVzc2FnZXMpIHtcbiAgICAgICAgY29uc3QgaXNfZGlmZmVyZW50ID0gKCkgPT5cbiAgICAgICAgICAgICEhdGhpcy52YWxpZGF0aW9uX2Vycm9yc1twcm9wZXJ0eU5hbWVdXG4gICAgICAgICAgICAgICAgLmZpbHRlcih4ID0+ICFtZXNzYWdlcy5pbmNsdWRlcyh4KSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KG1lc3NhZ2VzLmZpbHRlcih4ID0+ICF0aGlzLnZhbGlkYXRpb25fZXJyb3JzW3Byb3BlcnR5TmFtZV0uaW5jbHVkZXMoeCkpKS5sZW5ndGg7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0aW9uX2Vycm9yc1twcm9wZXJ0eU5hbWVdIHx8IGlzX2RpZmZlcmVudCgpKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRpb25fZXJyb3JzW3Byb3BlcnR5TmFtZV0gPSBtZXNzYWdlcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdmFsaWRhdGlvbiBydWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJ1bGVzXG4gICAgICpcbiAgICAgKi9cbiAgICBAYWN0aW9uXG4gICAgc2V0VmFsaWRhdGlvblJ1bGVzKHJ1bGVzID0ge30pIHtcbiAgICAgICAgT2JqZWN0LmtleXMocnVsZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkUnVsZShrZXksIHJ1bGVzW2tleV0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHJ1bGVzIHRvIHRoZSBwYXJ0aWN1bGFyIHByb3BlcnR5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcnVsZXNcbiAgICAgKlxuICAgICAqL1xuICAgIEBhY3Rpb25cbiAgICBhZGRSdWxlKHByb3BlcnR5LCBydWxlcykge1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25fcnVsZXNbcHJvcGVydHldID0gcnVsZXM7XG5cbiAgICAgICAgaW50ZXJjZXB0KHRoaXMsIHByb3BlcnR5LCBjaGFuZ2UgPT4ge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BlcnR5KHByb3BlcnR5LCBjaGFuZ2UubmV3VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIGEgcGFydGljdWxhciBwcm9wZXJ0eSBvZiB0aGUgc3RvcmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBpbiB0aGUgc3RvcmVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdmFsdWUgICAgLSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5LCBpdCBjYW4gYmUgdW5kZWZpbmVkLlxuICAgICAqXG4gICAgICovXG4gICAgQGFjdGlvblxuICAgIHZhbGlkYXRlUHJvcGVydHkocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHRyaWdnZXIgPSB0aGlzLnZhbGlkYXRpb25fcnVsZXNbcHJvcGVydHldLnRyaWdnZXI7XG4gICAgICAgIGNvbnN0IGlucHV0cyA9IHsgW3Byb3BlcnR5XTogdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogdGhpc1twcm9wZXJ0eV0gfTtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbl9ydWxlcyA9IHsgW3Byb3BlcnR5XTogdGhpcy52YWxpZGF0aW9uX3J1bGVzW3Byb3BlcnR5XS5ydWxlcyB8fCBbXSB9O1xuXG4gICAgICAgIGlmICghIXRyaWdnZXIgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcywgdHJpZ2dlcikpIHtcbiAgICAgICAgICAgIGlucHV0c1t0cmlnZ2VyXSA9IHRoaXNbdHJpZ2dlcl07XG4gICAgICAgICAgICB2YWxpZGF0aW9uX3J1bGVzW3RyaWdnZXJdID0gdGhpcy52YWxpZGF0aW9uX3J1bGVzW3RyaWdnZXJdLnJ1bGVzIHx8IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IFZhbGlkYXRvcihpbnB1dHMsIHZhbGlkYXRpb25fcnVsZXMsIHRoaXMpO1xuXG4gICAgICAgIHZhbGlkYXRvci5pc1Bhc3NlZCgpO1xuXG4gICAgICAgIE9iamVjdC5rZXlzKGlucHV0cykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRWYWxpZGF0aW9uRXJyb3JNZXNzYWdlcyhrZXksIHZhbGlkYXRvci5lcnJvcnMuZ2V0KGtleSkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgYWxsIHByb3BlcnRpZXMgd2hpY2ggdmFsaWRhdGlvbiBydWxlIGhhcyBiZWVuIHNldCBmb3IuXG4gICAgICpcbiAgICAgKi9cbiAgICBAYWN0aW9uXG4gICAgdmFsaWRhdGVBbGxQcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uX3J1bGVzID0gT2JqZWN0LmtleXModGhpcy52YWxpZGF0aW9uX3J1bGVzKTtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbl9lcnJvcnMgPSBPYmplY3Qua2V5cyh0aGlzLnZhbGlkYXRpb25fZXJyb3JzKTtcblxuICAgICAgICB2YWxpZGF0aW9uX3J1bGVzLmZvckVhY2gocCA9PiB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlUHJvcGVydHkocCwgdGhpc1twXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlbW92ZSBrZXlzIHRoYXQgYXJlIHByZXNlbnQgaW4gZXJyb3IsIGJ1dCBub3QgaW4gcnVsZXM6XG4gICAgICAgIHZhbGlkYXRpb25fZXJyb3JzLmZvckVhY2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgaWYgKCF2YWxpZGF0aW9uX3J1bGVzLmluY2x1ZGVzKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbGlkYXRpb25fZXJyb3JzW2Vycm9yXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG9uU3dpdGNoQWNjb3VudChsaXN0ZW5lcikge1xuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcblxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hBY2NvdW50RGlzcG9zZXIgPSB3aGVuKFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuc3dpdGNoX2Jyb2FkY2FzdCxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnN3aXRjaF9hY2NvdW50X2xpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5zd2l0Y2hFbmRTaWduYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN3aXRjaEFjY291bnQodGhpcy5zd2l0Y2hfYWNjb3VudF9saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3dpdGNoaW5nIGFjY291bnQgbGlzdGVuZXJzIGFyZSByZXF1aXJlZCB0byByZXR1cm4gYSBwcm9taXNlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbGlzdGVuZXIgY3VycmVudGx5IGFjdGl2ZS4gc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBlcnJvciByYWlzZWQgZnJvbSB0cmVhdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBudWxsIG9iamVjdCBhcyBhIGZ1bmN0aW9uLiBBbHRob3VnaCwgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgd2UgdGhyb3cgYSBjb25zb2xlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG9uUHJlU3dpdGNoQWNjb3VudChsaXN0ZW5lcikge1xuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMucHJlX3N3aXRjaF9hY2NvdW50X2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgICAgICB0aGlzLnByZVN3aXRjaEFjY291bnREaXNwb3NlciA9IHdoZW4oXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5yb290X3N0b3JlLmNsaWVudC5wcmVfc3dpdGNoX2Jyb2FkY2FzdCxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnByZV9zd2l0Y2hfYWNjb3VudF9saXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbiAmJiB0eXBlb2YgcmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuc2V0UHJlU3dpdGNoQWNjb3VudChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25QcmVTd2l0Y2hBY2NvdW50KHRoaXMucHJlX3N3aXRjaF9hY2NvdW50X2xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmUtc3dpdGNoIGFjY291bnQgbGlzdGVuZXJzIGFyZSByZXF1aXJlZCB0byByZXR1cm4gYSBwcm9taXNlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbGlzdGVuZXIgY3VycmVudGx5IGFjdGl2ZS4gc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBlcnJvciByYWlzZWQgZnJvbSB0cmVhdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBudWxsIG9iamVjdCBhcyBhIGZ1bmN0aW9uLiBBbHRob3VnaCwgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgd2UgdGhyb3cgYSBjb25zb2xlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG9uTG9nb3V0KGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMubG9nb3V0RGlzcG9zZXIgPSB3aGVuKFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5yb290X3N0b3JlLmNsaWVudC5oYXNfbG9nZ2VkX291dCxcbiAgICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmxvZ291dF9saXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuc2V0TG9nb3V0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9nb3V0KHRoaXMubG9nb3V0X2xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dvdXQgbGlzdGVuZXJzIGFyZSByZXF1aXJlZCB0byByZXR1cm4gYSBwcm9taXNlLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbGlzdGVuZXIgY3VycmVudGx5IGFjdGl2ZS4gc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBlcnJvciByYWlzZWQgZnJvbSB0cmVhdGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhIG51bGwgb2JqZWN0IGFzIGEgZnVuY3Rpb24uIEFsdGhvdWdoLCBpbiBkZXZlbG9wbWVudCBtb2RlLCB3ZSB0aHJvdyBhIGNvbnNvbGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNQcm9kdWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubG9nb3V0X2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG9uQ2xpZW50SW5pdChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmNsaWVudEluaXREaXNwb3NlciA9IHdoZW4oXG4gICAgICAgICAgICAoKSA9PiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmluaXRpYWxpemVkX2Jyb2FkY2FzdCxcbiAgICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNsaWVudF9pbml0X2xpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRoZW4gJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5zZXRJbml0aWFsaXplZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNsaWVudEluaXQodGhpcy5jbGllbnRfaW5pdF9saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xpZW50IGluaXQgbGlzdGVuZXJzIGFyZSByZXF1aXJlZCB0byByZXR1cm4gYSBwcm9taXNlLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbGlzdGVuZXIgY3VycmVudGx5IGFjdGl2ZS4gc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBlcnJvciByYWlzZWQgZnJvbSB0cmVhdGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhIG51bGwgb2JqZWN0IGFzIGEgZnVuY3Rpb24uIEFsdGhvdWdoLCBpbiBkZXZlbG9wbWVudCBtb2RlLCB3ZSB0aHJvdyBhIGNvbnNvbGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNQcm9kdWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY2xpZW50X2luaXRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgb25OZXR3b3JrU3RhdHVzQ2hhbmdlKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMubmV0d29ya1N0YXR1c0NoYW5nZURpc3Bvc2VyID0gcmVhY3Rpb24oXG4gICAgICAgICAgICAoKSA9PiB0aGlzLnJvb3Rfc3RvcmUuY29tbW9uLmlzX25ldHdvcmtfb25saW5lLFxuICAgICAgICAgICAgaXNfb25saW5lID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5ldHdvcmtfc3RhdHVzX2NoYW5nZV9saXN0ZW5lcihpc19vbmxpbmUpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIGxpc3RlbmVyIGN1cnJlbnRseSBhY3RpdmUuIHNvIHdlIGNhbiBqdXN0IGlnbm9yZSB0aGUgZXJyb3IgcmFpc2VkIGZyb20gdHJlYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBudWxsIG9iamVjdCBhcyBhIGZ1bmN0aW9uLiBBbHRob3VnaCwgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgd2UgdGhyb3cgYSBjb25zb2xlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUHJvZHVjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubmV0d29ya19zdGF0dXNfY2hhbmdlX2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG9uVGhlbWVDaGFuZ2UobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy50aGVtZUNoYW5nZURpc3Bvc2VyID0gcmVhY3Rpb24oXG4gICAgICAgICAgICAoKSA9PiB0aGlzLnJvb3Rfc3RvcmUudWkuaXNfZGFya19tb2RlX29uLFxuICAgICAgICAgICAgaXNfZGFya19tb2RlX29uID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRoZW1lX2NoYW5nZV9saXN0ZW5lcihpc19kYXJrX21vZGVfb24pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIGxpc3RlbmVyIGN1cnJlbnRseSBhY3RpdmUuIHNvIHdlIGNhbiBqdXN0IGlnbm9yZSB0aGUgZXJyb3IgcmFpc2VkIGZyb20gdHJlYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBudWxsIG9iamVjdCBhcyBhIGZ1bmN0aW9uLiBBbHRob3VnaCwgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgd2UgdGhyb3cgYSBjb25zb2xlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUHJvZHVjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMudGhlbWVfY2hhbmdlX2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG9uUmVhbEFjY291bnRTaWdudXBFbmQobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5yZWFsQWNjb3VudFNpZ251cEVuZGVkRGlzcG9zZXIgPSB3aGVuKFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5yb290X3N0b3JlLnVpLmhhc19yZWFsX2FjY291bnRfc2lnbnVwX2VuZGVkLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVhbF9hY2NvdW50X3NpZ251cF9lbmRlZF9saXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS51aS5zZXRSZWFsQWNjb3VudFNpZ251cEVuZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJlYWxBY2NvdW50U2lnbnVwRW5kKHRoaXMucmVhbF9hY2NvdW50X3NpZ251cF9lbmRlZF9saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhbCBhY2NvdW50IHNpZ251cCBsaXN0ZW5lcnMgYXJlIHJlcXVpcmVkIHRvIHJldHVybiBhIHByb21pc2UuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBsaXN0ZW5lciBjdXJyZW50bHkgYWN0aXZlLiBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGVycm9yIHJhaXNlZCBmcm9tIHRyZWF0aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgbnVsbCBvYmplY3QgYXMgYSBmdW5jdGlvbi4gQWx0aG91Z2gsIGluIGRldmVsb3BtZW50IG1vZGUsIHdlIHRocm93IGEgY29uc29sZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnJlYWxfYWNjb3VudF9zaWdudXBfZW5kZWRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgZGlzcG9zZVByZVN3aXRjaEFjY291bnQoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcmVTd2l0Y2hBY2NvdW50RGlzcG9zZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMucHJlU3dpdGNoQWNjb3VudERpc3Bvc2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmVfc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBudWxsO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBkaXNwb3NlU3dpdGNoQWNjb3VudCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnN3aXRjaEFjY291bnREaXNwb3NlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hBY2NvdW50RGlzcG9zZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN3aXRjaF9hY2NvdW50X2xpc3RlbmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgZGlzcG9zZUxvZ291dCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmxvZ291dERpc3Bvc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ291dERpc3Bvc2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dvdXRfbGlzdGVuZXIgPSBudWxsO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBkaXNwb3NlQ2xpZW50SW5pdCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNsaWVudEluaXREaXNwb3NlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5jbGllbnRJbml0RGlzcG9zZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWVudF9pbml0X2xpc3RlbmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgZGlzcG9zZU5ldHdvcmtTdGF0dXNDaGFuZ2UoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5uZXR3b3JrU3RhdHVzQ2hhbmdlRGlzcG9zZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMubmV0d29ya1N0YXR1c0NoYW5nZURpc3Bvc2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXR3b3JrX3N0YXR1c19jaGFuZ2VfbGlzdGVuZXIgPSBudWxsO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBkaXNwb3NlVGhlbWVDaGFuZ2UoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50aGVtZUNoYW5nZURpc3Bvc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnRoZW1lQ2hhbmdlRGlzcG9zZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRoZW1lX2NoYW5nZV9saXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGRpc3Bvc2VSZWFsQWNjb3VudFNpZ251cEVuZCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlYWxBY2NvdW50U2lnbnVwRW5kZWREaXNwb3NlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5yZWFsQWNjb3VudFNpZ251cEVuZGVkRGlzcG9zZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWxfYWNjb3VudF9zaWdudXBfZW5kZWRfbGlzdGVuZXIgPSBudWxsO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBvblVubW91bnQoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVByZVN3aXRjaEFjY291bnQoKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlU3dpdGNoQWNjb3VudCgpO1xuICAgICAgICB0aGlzLmRpc3Bvc2VMb2dvdXQoKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlQ2xpZW50SW5pdCgpO1xuICAgICAgICB0aGlzLmRpc3Bvc2VOZXR3b3JrU3RhdHVzQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMuZGlzcG9zZVRoZW1lQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJlYWxBY2NvdW50U2lnbnVwRW5kKCk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGFzc2VydEhhc1ZhbGlkQ2FjaGUobG9naW5pZCwgLi4ucmVhY3Rpb25zKSB7XG4gICAgICAgIC8vIGFjY291bnQgd2FzIGNoYW5nZWQgd2hlbiB0aGlzIHdhcyB1bm1vdW50ZWQuXG4gICAgICAgIGlmICh0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmxvZ2luaWQgIT09IGxvZ2luaWQpIHtcbiAgICAgICAgICAgIHJlYWN0aW9ucy5mb3JFYWNoKGFjdCA9PiBhY3QoKSk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpYWxfZmV0Y2hfdGltZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImFjdGlvbiIsImludGVyY2VwdCIsIm9ic2VydmFibGUiLCJyZWFjdGlvbiIsInRvSlMiLCJ3aGVuIiwiaXNQcm9kdWN0aW9uIiwiaXNFbXB0eU9iamVjdCIsIlZhbGlkYXRvciIsIkJhc2VTdG9yZSIsImJvdW5kIiwib3B0aW9ucyIsInByZVN3aXRjaEFjY291bnREaXNwb3NlciIsInByZV9zd2l0Y2hfYWNjb3VudF9saXN0ZW5lciIsInN3aXRjaEFjY291bnREaXNwb3NlciIsInN3aXRjaF9hY2NvdW50X2xpc3RlbmVyIiwibG9nb3V0RGlzcG9zZXIiLCJsb2dvdXRfbGlzdGVuZXIiLCJjbGllbnRJbml0RGlzcG9zZXIiLCJjbGllbnRfaW5pdF9saXN0ZW5lciIsIm5ldHdvcmtTdGF0dXNDaGFuZ2VEaXNwb3NlciIsIm5ldHdvcmtfc3RhdHVzX2NoYW5nZV9saXN0ZW5lciIsInRoZW1lQ2hhbmdlRGlzcG9zZXIiLCJ0aGVtZV9jaGFuZ2VfbGlzdGVuZXIiLCJyZWFsQWNjb3VudFNpZ251cEVuZGVkRGlzcG9zZXIiLCJyZWFsX2FjY291bnRfc2lnbnVwX2VuZGVkX2xpc3RlbmVyIiwicm9vdF9zdG9yZSIsImxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcyIsInNlc3Npb25fc3RvcmFnZV9wcm9wZXJ0aWVzIiwidmFsaWRhdGlvbl9ydWxlcyIsInN0b3JlX25hbWUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImhhc19sb2NhbF9vcl9zZXNzaW9uX3N0b3JhZ2UiLCJsZW5ndGgiLCJFcnJvciIsInZhbHVlIiwic2V0VmFsaWRhdGlvblJ1bGVzIiwic2V0dXBSZWFjdGlvbkZvckxvY2FsU3RvcmFnZSIsInNldHVwUmVhY3Rpb25Gb3JTZXNzaW9uU3RvcmFnZSIsInJldHJpZXZlRnJvbVN0b3JhZ2UiLCJwcm9wZXJ0aWVzIiwic25hcHNob3QiLCJyZWR1Y2UiLCJyZXN1bHQiLCJwIiwiYXNzaWduIiwibWFwIiwiaSIsInNhdmVUb1N0b3JhZ2UiLCJTVE9SQUdFUyIsIkxPQ0FMX1NUT1JBR0UiLCJTRVNTSU9OX1NUT1JBR0UiLCJzdG9yYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFNuYXBzaG90Iiwia2V5IiwidW5kZWZpbmVkIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInNlc3Npb25TdG9yYWdlIiwibG9jYWxfc3RvcmFnZV9zbmFwc2hvdCIsInBhcnNlIiwiZ2V0SXRlbSIsInNlc3Npb25fc3RvcmFnZV9zbmFwc2hvdCIsImtleXMiLCJmb3JFYWNoIiwiayIsInByb3BlcnR5TmFtZSIsIm1lc3NhZ2VzIiwiaXNfZGlmZmVyZW50IiwidmFsaWRhdGlvbl9lcnJvcnMiLCJmaWx0ZXIiLCJ4IiwiaW5jbHVkZXMiLCJjb25jYXQiLCJydWxlcyIsImFkZFJ1bGUiLCJwcm9wZXJ0eSIsImNoYW5nZSIsInZhbGlkYXRlUHJvcGVydHkiLCJuZXdWYWx1ZSIsInRyaWdnZXIiLCJpbnB1dHMiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJ2YWxpZGF0b3IiLCJpc1Bhc3NlZCIsInNldFZhbGlkYXRpb25FcnJvck1lc3NhZ2VzIiwiZXJyb3JzIiwiZ2V0IiwiZXJyb3IiLCJsaXN0ZW5lciIsImNsaWVudCIsInN3aXRjaF9icm9hZGNhc3QiLCJ0aGVuIiwic3dpdGNoRW5kU2lnbmFsIiwib25Td2l0Y2hBY2NvdW50IiwiY29uc29sZSIsInByZV9zd2l0Y2hfYnJvYWRjYXN0Iiwic2V0UHJlU3dpdGNoQWNjb3VudCIsIm9uUHJlU3dpdGNoQWNjb3VudCIsImhhc19sb2dnZWRfb3V0Iiwic2V0TG9nb3V0Iiwib25Mb2dvdXQiLCJpbml0aWFsaXplZF9icm9hZGNhc3QiLCJzZXRJbml0aWFsaXplZCIsIm9uQ2xpZW50SW5pdCIsImNvbW1vbiIsImlzX25ldHdvcmtfb25saW5lIiwiaXNfb25saW5lIiwidWkiLCJpc19kYXJrX21vZGVfb24iLCJoYXNfcmVhbF9hY2NvdW50X3NpZ251cF9lbmRlZCIsInNldFJlYWxBY2NvdW50U2lnbnVwRW5kIiwib25SZWFsQWNjb3VudFNpZ251cEVuZCIsImRpc3Bvc2VQcmVTd2l0Y2hBY2NvdW50IiwiZGlzcG9zZVN3aXRjaEFjY291bnQiLCJkaXNwb3NlTG9nb3V0IiwiZGlzcG9zZUNsaWVudEluaXQiLCJkaXNwb3NlTmV0d29ya1N0YXR1c0NoYW5nZSIsImRpc3Bvc2VUaGVtZUNoYW5nZSIsImRpc3Bvc2VSZWFsQWNjb3VudFNpZ251cEVuZCIsImxvZ2luaWQiLCJyZWFjdGlvbnMiLCJhY3QiLCJwYXJ0aWFsX2ZldGNoX3RpbWUiLCJmcmVlemUiLCJTeW1ib2wiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Stores/base-store.js\n");

/***/ }),

/***/ "./Utils/Validator/errors.js":
/*!***********************************!*\
  !*** ./Utils/Validator/errors.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Errors = /*#__PURE__*/function () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n\n    this.errors = {};\n  }\n\n  _createClass(Errors, [{\n    key: \"add\",\n    value: function add(attribute, message) {\n      if (!this.has(attribute)) {\n        this.errors[attribute] = [];\n      }\n\n      if (this.errors[attribute].indexOf(message) === -1) {\n        this.errors[attribute].push(message);\n      }\n    }\n  }, {\n    key: \"all\",\n    value: function all() {\n      return this.errors;\n    }\n  }, {\n    key: \"first\",\n    value: function first(attribute) {\n      if (this.has(attribute)) {\n        return this.errors[attribute][0];\n      }\n\n      return null;\n    }\n  }, {\n    key: \"get\",\n    value: function get(attribute) {\n      if (this.has(attribute)) {\n        return this.errors[attribute];\n      }\n\n      return [];\n    }\n  }, {\n    key: \"has\",\n    value: function has(attribute) {\n      return Object.prototype.hasOwnProperty.call(this.errors, attribute);\n    }\n  }]);\n\n  return Errors;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Errors);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9VdGlscy9WYWxpZGF0b3IvZXJyb3JzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7Ozs7O0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvdHJhZGVyLy4vVXRpbHMvVmFsaWRhdG9yL2Vycm9ycy5qcz9mYzRmIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEVycm9ycyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXJyb3JzID0ge307XG4gICAgfVxuXG4gICAgYWRkKGF0dHJpYnV0ZSwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzW2F0dHJpYnV0ZV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVycm9yc1thdHRyaWJ1dGVdLmluZGV4T2YobWVzc2FnZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yc1thdHRyaWJ1dGVdLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9ycztcbiAgICB9XG5cbiAgICBmaXJzdChhdHRyaWJ1dGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yc1thdHRyaWJ1dGVdWzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGdldChhdHRyaWJ1dGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yc1thdHRyaWJ1dGVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGhhcyhhdHRyaWJ1dGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmVycm9ycywgYXR0cmlidXRlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9ycztcbiJdLCJuYW1lcyI6WyJFcnJvcnMiLCJlcnJvcnMiLCJhdHRyaWJ1dGUiLCJtZXNzYWdlIiwiaGFzIiwiaW5kZXhPZiIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Utils/Validator/errors.js\n");

/***/ }),

/***/ "./Utils/Validator/index.js":
/*!**********************************!*\
  !*** ./Utils/Validator/index.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _validator__WEBPACK_IMPORTED_MODULE_0__.default)
/* harmony export */ });
/* harmony import */ var _validator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validator */ "./Utils/Validator/validator.js");



/***/ }),

/***/ "./Utils/Validator/validator.js":
/*!**************************************!*\
  !*** ./Utils/Validator/validator.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _common_utility__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! _common/utility */ \"./_common/utility.js\");\n/* harmony import */ var _common_utility__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_common_utility__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ \"./Utils/Validator/errors.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar Validator = /*#__PURE__*/function () {\n  function Validator(input, rules) {\n    var store = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, Validator);\n\n    this.input = input;\n    this.rules = rules;\n    this.store = store;\n    this.errors = new _errors__WEBPACK_IMPORTED_MODULE_2__.default();\n    this.error_count = 0;\n  }\n  /**\n   * Add failure and error message for given rule\n   *\n   * @param {string} attribute\n   * @param {object} rule\n   */\n\n\n  _createClass(Validator, [{\n    key: \"addFailure\",\n    value: function addFailure(attribute, rule, error_message) {\n      var message = error_message || rule.options.message || (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPreBuildDVRs)()[rule.name].message();\n\n      if (rule.name === 'length') {\n        message = (0,_common_utility__WEBPACK_IMPORTED_MODULE_0__.template)(message, [rule.options.min === rule.options.max ? rule.options.min : \"\".concat(rule.options.min, \"-\").concat(rule.options.max)]);\n      } else if (rule.name === 'min') {\n        message = (0,_common_utility__WEBPACK_IMPORTED_MODULE_0__.template)(message, [rule.options.min]);\n      } else if (rule.name === 'not_equal') {\n        message = (0,_common_utility__WEBPACK_IMPORTED_MODULE_0__.template)(message, [rule.options.name1, rule.options.name2]);\n      }\n\n      this.errors.add(attribute, message);\n      this.error_count++;\n    }\n    /**\n     * Runs validator\n     *\n     * @return {boolean} Whether it passes; true = passes, false = fails\n     */\n\n  }, {\n    key: \"check\",\n    value: function check() {\n      var _this = this;\n\n      Object.keys(this.input).forEach(function (attribute) {\n        if (!Object.prototype.hasOwnProperty.call(_this.rules, attribute)) {\n          return;\n        }\n\n        _this.rules[attribute].forEach(function (rule) {\n          var ruleObject = Validator.getRuleObject(rule);\n\n          if (!ruleObject.validator && typeof ruleObject.validator !== 'function') {\n            return;\n          }\n\n          if (ruleObject.options.condition && !ruleObject.options.condition(_this.store)) {\n            return;\n          }\n\n          if (_this.input[attribute] === '' && ruleObject.name !== 'req') {\n            return;\n          }\n\n          var is_valid, error_message;\n\n          if (ruleObject.name === 'number') {\n            var _ruleObject$validator = ruleObject.validator(_this.input[attribute], ruleObject.options, _this.store, _this.input),\n                is_ok = _ruleObject$validator.is_ok,\n                message = _ruleObject$validator.message;\n\n            is_valid = is_ok;\n            error_message = message;\n          } else {\n            is_valid = ruleObject.validator(_this.input[attribute], ruleObject.options, _this.store, _this.input);\n          }\n\n          if (!is_valid) {\n            _this.addFailure(attribute, ruleObject, error_message);\n          }\n        });\n      });\n      return !this.error_count;\n    }\n    /**\n     * Determine if validation passes\n     *\n     * @return {boolean}\n     */\n\n  }, {\n    key: \"isPassed\",\n    value: function isPassed() {\n      return this.check();\n    }\n    /**\n     * Converts the rule array to an object\n     *\n     * @param {array} rule\n     * @return {object}\n     */\n\n  }], [{\n    key: \"getRuleObject\",\n    value: function getRuleObject(rule) {\n      var is_rule_string = typeof rule === 'string';\n      var rule_object = {\n        name: is_rule_string ? rule : rule[0],\n        options: is_rule_string ? {} : rule[1] || {}\n      };\n      rule_object.validator = rule_object.name === 'custom' ? rule[1].func : (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPreBuildDVRs)()[rule_object.name].func;\n      return rule_object;\n    }\n  }]);\n\n  return Validator;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Validator);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9VdGlscy9WYWxpZGF0b3IvdmFsaWRhdG9yLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7O0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBRUE7QUFDQTs7Ozs7O0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvdHJhZGVyLy4vVXRpbHMvVmFsaWRhdG9yL3ZhbGlkYXRvci5qcz9lN2ZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRlbXBsYXRlIH0gZnJvbSAnX2NvbW1vbi91dGlsaXR5JztcbmltcG9ydCB7IGdldFByZUJ1aWxkRFZScyB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IEVycm9yIGZyb20gJy4vZXJyb3JzJztcblxuY2xhc3MgVmFsaWRhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCwgcnVsZXMsIHN0b3JlID0gbnVsbCkge1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMucnVsZXMgPSBydWxlcztcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLmVycm9ycyA9IG5ldyBFcnJvcigpO1xuXG4gICAgICAgIHRoaXMuZXJyb3JfY291bnQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBmYWlsdXJlIGFuZCBlcnJvciBtZXNzYWdlIGZvciBnaXZlbiBydWxlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJ1bGVcbiAgICAgKi9cbiAgICBhZGRGYWlsdXJlKGF0dHJpYnV0ZSwgcnVsZSwgZXJyb3JfbWVzc2FnZSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGVycm9yX21lc3NhZ2UgfHwgcnVsZS5vcHRpb25zLm1lc3NhZ2UgfHwgZ2V0UHJlQnVpbGREVlJzKClbcnVsZS5uYW1lXS5tZXNzYWdlKCk7XG4gICAgICAgIGlmIChydWxlLm5hbWUgPT09ICdsZW5ndGgnKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGVtcGxhdGUobWVzc2FnZSwgW1xuICAgICAgICAgICAgICAgIHJ1bGUub3B0aW9ucy5taW4gPT09IHJ1bGUub3B0aW9ucy5tYXggPyBydWxlLm9wdGlvbnMubWluIDogYCR7cnVsZS5vcHRpb25zLm1pbn0tJHtydWxlLm9wdGlvbnMubWF4fWAsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfSBlbHNlIGlmIChydWxlLm5hbWUgPT09ICdtaW4nKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGVtcGxhdGUobWVzc2FnZSwgW3J1bGUub3B0aW9ucy5taW5dKTtcbiAgICAgICAgfSBlbHNlIGlmIChydWxlLm5hbWUgPT09ICdub3RfZXF1YWwnKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGVtcGxhdGUobWVzc2FnZSwgW3J1bGUub3B0aW9ucy5uYW1lMSwgcnVsZS5vcHRpb25zLm5hbWUyXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lcnJvcnMuYWRkKGF0dHJpYnV0ZSwgbWVzc2FnZSk7XG4gICAgICAgIHRoaXMuZXJyb3JfY291bnQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW5zIHZhbGlkYXRvclxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBpdCBwYXNzZXM7IHRydWUgPSBwYXNzZXMsIGZhbHNlID0gZmFpbHNcbiAgICAgKi9cbiAgICBjaGVjaygpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5pbnB1dCkuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ydWxlcywgYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ydWxlc1thdHRyaWJ1dGVdLmZvckVhY2gocnVsZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcnVsZU9iamVjdCA9IFZhbGlkYXRvci5nZXRSdWxlT2JqZWN0KHJ1bGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFydWxlT2JqZWN0LnZhbGlkYXRvciAmJiB0eXBlb2YgcnVsZU9iamVjdC52YWxpZGF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChydWxlT2JqZWN0Lm9wdGlvbnMuY29uZGl0aW9uICYmICFydWxlT2JqZWN0Lm9wdGlvbnMuY29uZGl0aW9uKHRoaXMuc3RvcmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dFthdHRyaWJ1dGVdID09PSAnJyAmJiBydWxlT2JqZWN0Lm5hbWUgIT09ICdyZXEnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgaXNfdmFsaWQsIGVycm9yX21lc3NhZ2U7XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGVPYmplY3QubmFtZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpc19vaywgbWVzc2FnZSB9ID0gcnVsZU9iamVjdC52YWxpZGF0b3IoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0W2F0dHJpYnV0ZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlT2JqZWN0Lm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpc192YWxpZCA9IGlzX29rO1xuICAgICAgICAgICAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpc192YWxpZCA9IHJ1bGVPYmplY3QudmFsaWRhdG9yKHRoaXMuaW5wdXRbYXR0cmlidXRlXSwgcnVsZU9iamVjdC5vcHRpb25zLCB0aGlzLnN0b3JlLCB0aGlzLmlucHV0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzX3ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmFpbHVyZShhdHRyaWJ1dGUsIHJ1bGVPYmplY3QsIGVycm9yX21lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVycm9yX2NvdW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiB2YWxpZGF0aW9uIHBhc3Nlc1xuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1Bhc3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgcnVsZSBhcnJheSB0byBhbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YXJyYXl9IHJ1bGVcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGdldFJ1bGVPYmplY3QocnVsZSkge1xuICAgICAgICBjb25zdCBpc19ydWxlX3N0cmluZyA9IHR5cGVvZiBydWxlID09PSAnc3RyaW5nJztcbiAgICAgICAgY29uc3QgcnVsZV9vYmplY3QgPSB7XG4gICAgICAgICAgICBuYW1lOiBpc19ydWxlX3N0cmluZyA/IHJ1bGUgOiBydWxlWzBdLFxuICAgICAgICAgICAgb3B0aW9uczogaXNfcnVsZV9zdHJpbmcgPyB7fSA6IHJ1bGVbMV0gfHwge30sXG4gICAgICAgIH07XG5cbiAgICAgICAgcnVsZV9vYmplY3QudmFsaWRhdG9yID0gcnVsZV9vYmplY3QubmFtZSA9PT0gJ2N1c3RvbScgPyBydWxlWzFdLmZ1bmMgOiBnZXRQcmVCdWlsZERWUnMoKVtydWxlX29iamVjdC5uYW1lXS5mdW5jO1xuXG4gICAgICAgIHJldHVybiBydWxlX29iamVjdDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZhbGlkYXRvcjtcbiJdLCJuYW1lcyI6WyJ0ZW1wbGF0ZSIsImdldFByZUJ1aWxkRFZScyIsIkVycm9yIiwiVmFsaWRhdG9yIiwiaW5wdXQiLCJydWxlcyIsInN0b3JlIiwiZXJyb3JzIiwiZXJyb3JfY291bnQiLCJhdHRyaWJ1dGUiLCJydWxlIiwiZXJyb3JfbWVzc2FnZSIsIm1lc3NhZ2UiLCJvcHRpb25zIiwibmFtZSIsIm1pbiIsIm1heCIsIm5hbWUxIiwibmFtZTIiLCJhZGQiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInJ1bGVPYmplY3QiLCJnZXRSdWxlT2JqZWN0IiwidmFsaWRhdG9yIiwiY29uZGl0aW9uIiwiaXNfdmFsaWQiLCJpc19vayIsImFkZEZhaWx1cmUiLCJjaGVjayIsImlzX3J1bGVfc3RyaW5nIiwicnVsZV9vYmplY3QiLCJmdW5jIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Utils/Validator/validator.js\n");

/***/ }),

/***/ "./_common/utility.js":
/*!****************************!*\
  !*** ./_common/utility.js ***!
  \****************************/
/***/ ((module) => {

eval("function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar template = function template(string, content) {\n  var to_replace = content;\n\n  if (content && !Array.isArray(content)) {\n    to_replace = [content];\n  }\n\n  return string.replace(/\\[_(\\d+)]/g, function (s, index) {\n    return to_replace[+index - 1];\n  });\n};\n/**\n * Creates a DOM element and adds any attributes to it.\n *\n * @param {String} tag_name: the tag to create, e.g. 'div', 'a', etc\n * @param {Object} attributes: all the attributes to assign, e.g. { id: '...', class: '...', html: '...', ... }\n * @return the created DOM element\n */\n\n\nvar createElement = function createElement(tag_name) {\n  var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var el = document.createElement(tag_name);\n  Object.keys(attributes).forEach(function (attr) {\n    var value = attributes[attr];\n\n    if (attr === 'text') {\n      el.textContent = value;\n    } else if (attr === 'html') {\n      el.html(value);\n    } else {\n      el.setAttribute(attr, value);\n    }\n  });\n  return el;\n};\n\nvar static_hash;\n\nvar getStaticHash = function getStaticHash() {\n  static_hash = static_hash || (document.querySelector('script[src*=\"main\"]').getAttribute('src') || '').split('.')[1];\n  return static_hash;\n};\n\nvar PromiseClass = function PromiseClass() {\n  var _this = this;\n\n  _classCallCheck(this, PromiseClass);\n\n  this.promise = new Promise(function (resolve, reject) {\n    _this.reject = reject;\n    _this.resolve = resolve;\n  });\n};\n\nmodule.exports = {\n  template: template,\n  createElement: createElement,\n  getStaticHash: getStaticHash,\n  PromiseClass: PromiseClass\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvdHJhZGVyLy4vX2NvbW1vbi91dGlsaXR5LmpzP2I0YjAiXSwibmFtZXMiOlsidGVtcGxhdGUiLCJzdHJpbmciLCJjb250ZW50IiwidG9fcmVwbGFjZSIsIkFycmF5IiwiaXNBcnJheSIsInJlcGxhY2UiLCJzIiwiaW5kZXgiLCJjcmVhdGVFbGVtZW50IiwidGFnX25hbWUiLCJhdHRyaWJ1dGVzIiwiZWwiLCJkb2N1bWVudCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiYXR0ciIsInZhbHVlIiwidGV4dENvbnRlbnQiLCJodG1sIiwic2V0QXR0cmlidXRlIiwic3RhdGljX2hhc2giLCJnZXRTdGF0aWNIYXNoIiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsInNwbGl0IiwiUHJvbWlzZUNsYXNzIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxRQUFRLEdBQUcsU0FBWEEsUUFBVyxDQUFDQyxNQUFELEVBQVNDLE9BQVQsRUFBcUI7QUFDbEMsTUFBSUMsVUFBVSxHQUFHRCxPQUFqQjs7QUFDQSxNQUFJQSxPQUFPLElBQUksQ0FBQ0UsS0FBSyxDQUFDQyxPQUFOLENBQWNILE9BQWQsQ0FBaEIsRUFBd0M7QUFDcENDLElBQUFBLFVBQVUsR0FBRyxDQUFDRCxPQUFELENBQWI7QUFDSDs7QUFDRCxTQUFPRCxNQUFNLENBQUNLLE9BQVAsQ0FBZSxZQUFmLEVBQTZCLFVBQUNDLENBQUQsRUFBSUMsS0FBSjtBQUFBLFdBQWNMLFVBQVUsQ0FBQyxDQUFDSyxLQUFELEdBQVMsQ0FBVixDQUF4QjtBQUFBLEdBQTdCLENBQVA7QUFDSCxDQU5EO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLElBQU1DLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsUUFBRCxFQUErQjtBQUFBLE1BQXBCQyxVQUFvQix1RUFBUCxFQUFPO0FBQ2pELE1BQU1DLEVBQUUsR0FBR0MsUUFBUSxDQUFDSixhQUFULENBQXVCQyxRQUF2QixDQUFYO0FBQ0FJLEVBQUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSixVQUFaLEVBQXdCSyxPQUF4QixDQUFnQyxVQUFBQyxJQUFJLEVBQUk7QUFDcEMsUUFBTUMsS0FBSyxHQUFHUCxVQUFVLENBQUNNLElBQUQsQ0FBeEI7O0FBQ0EsUUFBSUEsSUFBSSxLQUFLLE1BQWIsRUFBcUI7QUFDakJMLE1BQUFBLEVBQUUsQ0FBQ08sV0FBSCxHQUFpQkQsS0FBakI7QUFDSCxLQUZELE1BRU8sSUFBSUQsSUFBSSxLQUFLLE1BQWIsRUFBcUI7QUFDeEJMLE1BQUFBLEVBQUUsQ0FBQ1EsSUFBSCxDQUFRRixLQUFSO0FBQ0gsS0FGTSxNQUVBO0FBQ0hOLE1BQUFBLEVBQUUsQ0FBQ1MsWUFBSCxDQUFnQkosSUFBaEIsRUFBc0JDLEtBQXRCO0FBQ0g7QUFDSixHQVREO0FBVUEsU0FBT04sRUFBUDtBQUNILENBYkQ7O0FBZUEsSUFBSVUsV0FBSjs7QUFDQSxJQUFNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLEdBQU07QUFDeEJELEVBQUFBLFdBQVcsR0FDUEEsV0FBVyxJQUFJLENBQUNULFFBQVEsQ0FBQ1csYUFBVCxDQUF1QixxQkFBdkIsRUFBOENDLFlBQTlDLENBQTJELEtBQTNELEtBQXFFLEVBQXRFLEVBQTBFQyxLQUExRSxDQUFnRixHQUFoRixFQUFxRixDQUFyRixDQURuQjtBQUVBLFNBQU9KLFdBQVA7QUFDSCxDQUpEOztJQU1NSyxZLEdBQ0Ysd0JBQWM7QUFBQTs7QUFBQTs7QUFDVixPQUFLQyxPQUFMLEdBQWUsSUFBSUMsT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUM1QyxJQUFBLEtBQUksQ0FBQ0EsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsSUFBQSxLQUFJLENBQUNELE9BQUwsR0FBZUEsT0FBZjtBQUNILEdBSGMsQ0FBZjtBQUlILEM7O0FBR0xFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiakMsRUFBQUEsUUFBUSxFQUFSQSxRQURhO0FBRWJTLEVBQUFBLGFBQWEsRUFBYkEsYUFGYTtBQUdiYyxFQUFBQSxhQUFhLEVBQWJBLGFBSGE7QUFJYkksRUFBQUEsWUFBWSxFQUFaQTtBQUphLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdGVtcGxhdGUgPSAoc3RyaW5nLCBjb250ZW50KSA9PiB7XG4gICAgbGV0IHRvX3JlcGxhY2UgPSBjb250ZW50O1xuICAgIGlmIChjb250ZW50ICYmICFBcnJheS5pc0FycmF5KGNvbnRlbnQpKSB7XG4gICAgICAgIHRvX3JlcGxhY2UgPSBbY29udGVudF07XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvXFxbXyhcXGQrKV0vZywgKHMsIGluZGV4KSA9PiB0b19yZXBsYWNlWytpbmRleCAtIDFdKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIERPTSBlbGVtZW50IGFuZCBhZGRzIGFueSBhdHRyaWJ1dGVzIHRvIGl0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0YWdfbmFtZTogdGhlIHRhZyB0byBjcmVhdGUsIGUuZy4gJ2RpdicsICdhJywgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlczogYWxsIHRoZSBhdHRyaWJ1dGVzIHRvIGFzc2lnbiwgZS5nLiB7IGlkOiAnLi4uJywgY2xhc3M6ICcuLi4nLCBodG1sOiAnLi4uJywgLi4uIH1cbiAqIEByZXR1cm4gdGhlIGNyZWF0ZWQgRE9NIGVsZW1lbnRcbiAqL1xuY29uc3QgY3JlYXRlRWxlbWVudCA9ICh0YWdfbmFtZSwgYXR0cmlidXRlcyA9IHt9KSA9PiB7XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ19uYW1lKTtcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGF0dHIgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJpYnV0ZXNbYXR0cl07XG4gICAgICAgIGlmIChhdHRyID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0ciA9PT0gJ2h0bWwnKSB7XG4gICAgICAgICAgICBlbC5odG1sKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZWw7XG59O1xuXG5sZXQgc3RhdGljX2hhc2g7XG5jb25zdCBnZXRTdGF0aWNIYXNoID0gKCkgPT4ge1xuICAgIHN0YXRpY19oYXNoID1cbiAgICAgICAgc3RhdGljX2hhc2ggfHwgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPVwibWFpblwiXScpLmdldEF0dHJpYnV0ZSgnc3JjJykgfHwgJycpLnNwbGl0KCcuJylbMV07XG4gICAgcmV0dXJuIHN0YXRpY19oYXNoO1xufTtcblxuY2xhc3MgUHJvbWlzZUNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWplY3QgPSByZWplY3Q7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHRlbXBsYXRlLFxuICAgIGNyZWF0ZUVsZW1lbnQsXG4gICAgZ2V0U3RhdGljSGFzaCxcbiAgICBQcm9taXNlQ2xhc3MsXG59O1xuIl0sImZpbGUiOiIuL19jb21tb24vdXRpbGl0eS5qcy5qcyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_common/utility.js\n");

/***/ }),

/***/ "@deriv/shared":
/*!********************************!*\
  !*** external "@deriv/shared" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__deriv_shared__;

/***/ }),

/***/ "@deriv/translations":
/*!**************************************!*\
  !*** external "@deriv/translations" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__deriv_translations__;

/***/ }),

/***/ "mobx":
/*!***********************!*\
  !*** external "mobx" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_mobx__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./Stores/Modules/CFD/cfd-store.js");
/******/ 	__webpack_exports__ = __webpack_exports__.default;
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});